if (self.CavalryLogger) { CavalryLogger.start_js(["Vcyrk"]); }

__d("FBCircularGlyph.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.circleSize,d=a.glyph,e=a.glyphSize;a=babelHelpers.objectWithoutPropertiesLoose(a,["circleSize","glyph","glyphSize"]);return b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")("_32qy",a.className),style:babelHelpers["extends"]({width:c,height:c},a.style)}),b("React").createElement("div",{className:"_32qz"},b("React").createElement("div",{className:"_32q-"},b("React").createElement(b("Image.react"),{src:d,width:e,height:e}))))};function a(){h.apply(this,arguments)}a.propTypes={circleSize:c.number,glyph:c.oneOfType([c.object,c.string])};e.exports=a}),null);
__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f){__p&&__p();var g={isSupported:function(){return window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(b("UserAgent").isBrowser("Firefox < 41")||b("UserAgent").isPlatform("iOS < 10.3"))||b("UserAgent").isBrowser("Chrome >= 43")},copy:function(a,c){__p&&__p();c=c||document.body;if(!c)return!1;var d=!0,e=document.createElement("textarea");c.appendChild(e);e.value=a;if(b("UserAgent").isPlatform("iOS >= 10.3")){a=document.createRange();a.selectNodeContents(e);var f=window.getSelection();f.removeAllRanges();f.addRange(a);e.setSelectionRange(0,999999)}else e.select();try{d=document.execCommand("copy")}catch(a){d=!1}c.removeChild(e);return d},copyAsync:function(a){var c=window.navigator;if(c&&c.clipboard&&typeof c.clipboard.writeText==="function")return c.clipboard.writeText(a);return g.copy(a)?b("Promise").resolve():b("Promise").reject()}};e.exports=g}),null);
__d("FBClipboardLink.react",["cx","fbt","Clipboard","DOMContainer.react","Event","KeyEventController","React","ReactDOM","SubscriptionsHandler","Tooltip.react","isKeyActivation","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={copied:!1,supported:b("Clipboard").isSupported()},this.$1=null,this.$2=null,this.$4=function(a){a.clipboardData&&(a.clipboardData.setData("text/html",this.$7()),a.preventDefault())}.bind(this),this.$6=function(){if(!this.state.supported)return"Unsupported in this browser";return this.state.copied?this.props.tooltipSuccess:this.props.tooltip}.bind(this),this.$3=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)}.bind(this),this.$8=function(){this.$2=setTimeout(this.$9,this.props.tooltipSuccessDuration)}.bind(this),this.$5=function(a){var c=b("ReactDOM").findDOMNode(this.refs.root);c=b("Clipboard").copy(this.$7(),c);this.$3();this.setState({copied:!0,supported:c});this.$8();this.props.onComplete&&this.props.onComplete(c);this.props.stopPropagation&&a.stopPropagation();this.props.preventDefaultOnClick&&a.preventDefault()}.bind(this),this.$9=function(){this.$3(),this.setState({copied:!1})}.bind(this),c}a.prototype.componentWillUnmount=function(){"use strict";this.$3(),this.$1&&this.$1.release()};a.prototype.componentDidMount=function(){"use strict";if(this.props.type==="html"){var a=b("ReactDOM").findDOMNode(this);this.$1=this.$1||new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(a,"copy",this.$4))}this.props.hotkey&&(this.$1=this.$1||new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("KeyEventController").registerKey(this.props.hotkey,this.$5)))};a.prototype.render=function(){"use strict";var a=b("joinClasses")(this.props.className,"_xd6"),c=this.props.children||this.props.label;!c&&this.props.childrenDONOTUSE&&(c=b("React").createElement(b("DOMContainer.react"),null,this.props.childrenDONOTUSE));return b("React").createElement(b("Tooltip.react"),babelHelpers["extends"]({},this.props,{ref:"root",tabIndex:"0",className:a,tooltip:this.$6(),"data-pitloot-persistonclick":!0,onClick:this.$5,onKeyPress:function(a){return b("isKeyActivation")(a)&&this.$5()}.bind(this),position:this.props.position,alignH:this.props.alignment}),b("React").createElement("div",{ref:"content",className:"_2lj1"},c))};a.prototype.$7=function(){"use strict";if(this.props.getValue)return this.props.getValue();else return this.props.value};a.defaultProps={tooltip:h._("Copy text to clipboard"),tooltipSuccess:h._("Text copied to clipboard"),tooltipSuccessDuration:1e3,type:"string"};e.exports=a}),null);
__d("LiveVideoRewindTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActionSequenceNumber=function(a){this.$1.action_sequence_number=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPositionAfter=function(a){this.$1.position_after=a;return this};a.prototype.setPositionBefore=function(a){this.$1.position_before=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={action_sequence_number:!0,deviceid:!0,event:!0,position_after:!0,position_before:!0,session_id:!0,time:!0,vc:!0,video_duration:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("SUIAtlasChromeTheme",["cssVar","React","SUIAtlasConstants","SUIAtlasIcon.react","SUIAtlasTheme","SUITheme","SUITypeStyle"],(function(a,b,c,d,e,f,g){"use strict";a=b("SUIAtlasConstants").COLORS;c=b("SUIAtlasConstants").TYPOGRAPHY;d={SUIButton:{height:{normal:32,"short":32,tall:48},padding:{normal:{button:"16px",icon:"6px",onlyIcon:"19px"},"short":{button:"16px",icon:"6px",onlyIcon:"19px"},tall:{button:"16px",icon:"6px",onlyIcon:"19px"}},typeStyle:c.type12,use:{confirm:{active:{background:a.blueShade25,borderColor:a.blueShade25,color:a.white},disabled:{background:a.neutral15,borderColor:a.neutral15,color:a.white},hover:{background:a.blueShade10,borderColor:a.blueShade10,color:a.white},normal:{background:a.blue,borderColor:a.blue,color:a.white}},"default":{active:{background:a.neutral15,borderColor:a.neutral15,color:a.neutral72},disabled:{background:a.neutral15,borderColor:a.neutral15,color:a.white},hover:{background:a.neutral06,borderColor:a.neutral06,color:a.neutral72},normal:{background:a.neutral03,borderColor:a.neutral03,color:a.neutral72}},special:{active:{background:a.greenShade25,borderColor:a.greenShade25,color:a.white},disabled:{background:a.neutral15,borderColor:a.neutral15,color:a.white},hover:{background:a.greenShade10,borderColor:a.greenShade10,color:a.white},normal:{background:a.green,borderColor:a.green,color:a.white}},flat:b("SUIAtlasTheme").SUIButton.use.flat,flatWhite:b("SUIAtlasTheme").SUIButton.use.flatWhite}},SUIButtonIcon:{colorConfirm:a.blueTint50,colorDefault:a.neutral72,colorDisabled:a.white,colorSpecial:a.greenTint50,defaultSize:18,iconComponent:b("SUIAtlasIcon.react")},SUISearchInput:{cancelIcon:b("React").createElement(b("SUIAtlasIcon.react"),{colorDefault:a.neutral15,colorHover:a.neutral50,name:"delete"}),searchIcon:b("React").createElement(b("SUIAtlasIcon.react"),{colorDefault:a.neutral72,name:"search",size:24})},SUITextInput:{characterCountTypeStyle:new(b("SUITypeStyle"))({color:a.neutral30,fontFamily:"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif",fontSize:"11px",fontWeight:"normal"}),disabled:{background:a.neutral02,borderColor:a.neutral15},enabled:{background:a.neutral06,borderColor:a.neutral06},errorIconMargin:"3px",focusedBorderColor:"#4080ff",height:32,maxLengthHighlightColor:"rgba(250, 62, 62, 0.3)",placeholderColor:a.neutral30,placeholderColorFocused:a.neutral30,typeStyle:c.type12Form}};e.exports=new(b("SUITheme"))({id:"atlas_chrome",components:babelHelpers["extends"]({},b("SUIAtlasTheme"),d)})}),null);
__d("AsyncRequestUtil",["Promise"],(function(a,b,c,d,e,f){"use strict";a={send:function(a){return new(b("Promise"))(function(b,c){return a.setHandler(b).setErrorHandler(c).send()})}};e.exports=a}),null);
__d("SUITooltip.react",["cx","AlignmentEnum","ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","LayerFadeOnShow","PositionEnum","React","SUIComponent","SUILink.react","SUITheme","getElementRect","joinClasses","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k;f=b("React").PropTypes;var l=4,m={LayerFadeOnShow:b("LayerFadeOnShow"),ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),ContextualLayerHideOnScroll:b("ContextualLayerHideOnScroll")},n=100;g=["block","inline"];var o=["normal","break-word"],p=null;h=babelHelpers.inherits(a,b("SUIComponent"));h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.label,d=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["label","value"]);return b("React").createElement("li",a,c!=null&&c!==""&&b("React").createElement("strong",null,c)," ",d)};function a(){h.apply(this,arguments)}a.propTypes={value:f.node.isRequired,label:f.string};i=babelHelpers.inherits(c,b("SUIComponent"));i&&i.prototype;c.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_2pif")},this.props.description," ",b("React").createElement(b("SUILink.react"),{onClick:this.props.onClick},this.props.label))};function c(){i.apply(this,arguments)}c.propTypes={label:f.node.isRequired,onClick:f.func.isRequired,description:f.node,theme:f.instanceOf(b("SUITheme"))};var q={alignment:"left",display:"inline",offset:4,position:"above",tooltipDelay:0,tooltipWidth:"auto"};j=babelHelpers.inherits(d,b("SUIComponent"));k=j&&j.prototype;function d(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={isTextHover:!1,isTooltipHover:!1,isTooltipVisible:!1},this.$SUITooltip4=b("uniqueID")(),this.$SUITooltip6=function(){this.props.tooltipDelay?this.$SUITooltip5=window.setTimeout(this.$SUITooltip7,this.props.tooltipDelay):this.$SUITooltip7()}.bind(this),this.$SUITooltip9=function(){this.$SUITooltip2=window.setTimeout(this.$SUITooltip7,n)}.bind(this),this.$SUITooltip7=function(){this.state.isTextHover||this.state.isTooltipHover?this.show():this.hide()}.bind(this),this.$SUITooltip8=function(){this.props.onToggle&&this.props.onToggle(this.state.isTooltipVisible)}.bind(this),this.$SUITooltip10=function(){this.setState({isTextHover:!1},this.$SUITooltip9)}.bind(this),this.$SUITooltip11=function(){this.setState({isTooltipHover:!1},this.$SUITooltip9)}.bind(this),this.$SUITooltip12=function(){this.setState({isTextHover:!0},this.$SUITooltip6)}.bind(this),this.$SUITooltip13=function(){this.setState({isTextHover:!1},this.$SUITooltip9)}.bind(this),this.$SUITooltip14=function(){this.setState({isTooltipHover:!0})}.bind(this),this.$SUITooltip15=function(){this.setState({isTooltipHover:!1},this.$SUITooltip9)}.bind(this),this.$SUITooltip16=function(a){this.$SUITooltip1=a}.bind(this),this.$SUITooltip17=function(){return this.$SUITooltip1}.bind(this),c}d.prototype.componentDidMount=function(){this.$SUITooltip3=!0};d.prototype.componentWillUnmount=function(){this.$SUITooltip3=!1,this.$SUITooltip5&&window.clearTimeout(this.$SUITooltip5),this.$SUITooltip2&&window.clearTimeout(this.$SUITooltip2),p===this&&(p=null)};d.prototype.show=function(){if(this.state.isTooltipVisible)return;p&&p!==this&&p.hide();p=this;this.$SUITooltip3&&this.setState({isTooltipVisible:!0},this.$SUITooltip8)};d.prototype.hide=function(){if(!this.state.isTooltipVisible)return;p=null;this.$SUITooltip3&&this.setState({isTooltipVisible:!1},this.$SUITooltip8)};d.prototype.$SUITooltip18=function(){__p&&__p();var a=this.props.tooltip!=null&&this.props.tooltip!==""&&this.state.isTooltipVisible;if(!a)return null;a=this.props.position==="above";var c=this.props.position==="below",d=this.props.position==="left",e=this.props.position==="right",f=a||c,g=b("SUITheme").get(this).SUITooltip,h=0;c?h=this.props.offset:a&&(h=-1*this.props.offset);c=0;e?c=this.props.offset+l:d&&(c=-1*(this.props.offset+l));a=babelHelpers["extends"]({},g.typeStyle,{backgroundColor:g.backgroundColor,color:g.color,width:this.props.tooltipWidth!=="auto"?this.props.tooltipWidth:null,maxWidth:this.props.maxWidth,overflowWrap:this.props.overflowWrap});e=0;d=this.$SUITooltip1;if(!f&&d){f=b("getElementRect")(d);d=f.bottom-f.top;e=d/2}return b("React").createElement(b("ContextualLayer.react"),{alignment:this.props.alignment,behaviors:this.props.behaviors?babelHelpers["extends"]({},m,this.props.behaviors):m,contextRef:this.$SUITooltip17,offsetX:c,offsetY:h,position:this.props.position,shown:!0},b("React").createElement("div",{className:"_4_gw",id:this.$SUITooltip4,onBlur:this.$SUITooltip11,onMouseEnter:this.$SUITooltip14,onMouseLeave:this.$SUITooltip15,style:{top:e+"px"}},b("React").createElement("ul",{className:"_3b5i",style:a},this.props.tooltip),b("React").createElement("div",{"aria-hidden":!0,className:"_3b61",style:{borderTopColor:g.backgroundColor}})))};d.prototype.render=function(){var a=this.props.display==="block"?"div":"span";return b("React").createElement(a,{"aria-describedby":this.state.isTextHover?this.$SUITooltip4:void 0,className:b("joinClasses")(this.props.className,this.props.margin,"_3b62"),onBlur:this.$SUITooltip10,onMouseEnter:this.$SUITooltip12,onMouseLeave:this.$SUITooltip13,ref:this.$SUITooltip16,style:this.props.style},this.props.children,this.$SUITooltip18())};d.Row=a;d.ActionDEPRECATED=c;d.propTypes={alignment:b("AlignmentEnum").propType.isRequired,behaviors:f.object,className:f.string,display:f.oneOf(g).isRequired,margin:f.string,maxWidth:f.number,offset:f.number.isRequired,overflowWrap:f.oneOf(o),position:b("PositionEnum").propType.isRequired,theme:f.instanceOf(b("SUITheme")),tooltip:f.node,tooltipDelay:f.number,tooltipWidth:f.oneOfType([f.oneOf(["auto"]),f.number])};d.defaultProps=q;e.exports=d}),null);
__d("SUIHelpMessage.react",["cx","PositionEnum","React","SUIComponent","SUITheme","SUITooltip.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c={position:"above"};d=babelHelpers.inherits(a,b("SUIComponent"));h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={isShown:!1},this.$SUIHelpMessage1=function(a){this.setState({isShown:a},this.$SUIHelpMessage2)}.bind(this),this.$SUIHelpMessage2=function(){this.props.onToggle&&this.props.onToggle(this.state.isShown)}.bind(this),b}a.prototype.render=function(){var a=b("SUITheme").get(this).SUIHelpMessage;a=b("React").cloneElement(a.icon,{hover:this.state.isShown});return b("React").createElement(b("SUITooltip.react"),{className:b("joinClasses")(this.props.className,this.props.margin,"_lx9"+(this.props.margin?"":" _3-99")),onToggle:this.$SUIHelpMessage1,position:this.props.position,style:this.props.style,theme:this.props.theme,tooltip:this.props.value,tooltipWidth:this.props.tooltipWidth},a)};a.propTypes={className:b("prop-types").string,margin:b("prop-types").string,position:b("PositionEnum").propType,style:b("prop-types").object,theme:b("prop-types").instanceOf(b("SUITheme")),value:b("prop-types").node.isRequired,tooltipWidth:b("prop-types").oneOfType([b("prop-types").oneOf(["auto"]),b("prop-types").number])};a.defaultProps=c;e.exports=a}),null);
__d("getContextualLayerCursorOffset",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();var d=a.getOrientation(),e=d.getPosition();d=d.getAlignment();var f=a.getContent().getBoundingClientRect();a=a.getContext().getBoundingClientRect();b=b-a.left;c=c-a.top;switch(d){case"left":b-=f.width;break;case"center":b-=a.width*.5;break;case"right":b-=a.width-f.width;break;default:throw new Error("invalid alignment")}switch(e){case"above":break;case"left":b+=f.width;c-=f.height*.5;break;case"right":b-=f.width;c-=f.height*.5;break;case"below":c-=a.height;break;default:throw new Error("invalid position")}return{offsetX:b,offsetY:c}}e.exports=a}),null);
__d("Duration.react",["React","ServerTime","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=500,i=1e3,j=60,k=60;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.state={duration:0}}a.prototype.UNSAFE_componentWillMount=function(){this.$2()};a.prototype.componentWillUnmount=function(){b("clearTimeout")(this.$1)};a.prototype.$2=function(){var a;this.props.useLocalTime?a=Date.now():a=b("ServerTime").getMillis();this.setState({duration:Math.max(a-this.props.startTime,0)});this.$1=b("setTimeout")(function(){return this.$2()}.bind(this),h)};a.prototype.render=function(){__p&&__p();var a=Math.floor(this.state.duration/i),c=a%j;a=Math.floor(a/j);var d=a%k;a=Math.floor(a/k);var e="";a>0&&(e=a+":");a=d+":";a.length<3&&e.length>0&&(a="0"+a);d=""+c;d.length<2&&(d="0"+d);return b("React").createElement("span",null,e,a,d)};a.defaultProps={useLocalTime:!1};e.exports=a}),null);
__d("XVideoDataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/video_data_async/",{video_id:{type:"String",required:!0},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:!0},is_ad:{type:"Bool",defaultValue:!1},force_flash:{type:"Bool",defaultValue:!1},is_omnistab_preview_select_revert:{type:"Bool",defaultValue:!1},allow_dash_prefetch:{type:"Bool",defaultValue:!1},force_hd:{type:"Bool",defaultValue:!1}})}),null);
__d("VideoPlayerMetaData",["regeneratorRuntime","Promise","AsyncRequest","AsyncResponse","TimeSlice","VideoData","XVideoDataAsyncController","isHTML5VideoImplementationUnavailable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=12e4;function i(a){this.videoID=a}i.prototype.getVideoID=function(){return this.videoID};i.prototype.genVideoData=function(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a===void 0&&(a={});e.prev=1;d=this.$1;(!d||a.forceRefetch)&&(this.$2&&(clearTimeout(this.$2),this.$2=null),d=this.$1=this.$3(a),this.$2=setTimeout(b("TimeSlice").guard(function(){this.$1=null,c()}.bind(this),"VideoPlayerMetaData cacheTimeout",{propagationType:b("TimeSlice").PropagationType.ORPHAN}),a.cacheTimeout||h));e.next=6;return b("regeneratorRuntime").awrap(d);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9;e.t0=e["catch"](1);throw e.t0;case 12:case"end":return e.stop()}},null,this,[[1,9]])};i.prototype.$3=function(a){__p&&__p();var c=b("XVideoDataAsyncController").getURIBuilder().setString("video_id",this.videoID).setBool("supports_html5_video",!b("isHTML5VideoImplementationUnavailable")(!0)),d=a.forceFlash,e=a.allowDashPrefetch;a=a.forceHD;d!==void 0&&(c=c.setBool("force_flash",d));e!==void 0&&(c=c.setBool("allow_dash_prefetch",e));a!==void 0&&(c=c.setBool("force_hd",a));var f=c.getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))(f).setMethod("GET").setURI(f).setReadOnly(!0).setAllowCrossPageTransition(!0).setHandler(function(d){d=d.payload;!d.error?a(new(b("VideoData"))(d)):c(d.error)}).setErrorHandler(function(a){c(a.getErrorDescription())}).send()})};i.get=function(a){g[a]||(g[a]=new i(a));return g[a]};i.genVideoData=function(a,c,d){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c===void 0&&(c={});d===void 0&&(d=function(){});e.next=4;return b("regeneratorRuntime").awrap(i.get(a).genVideoData(c,d));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},null,this)};e.exports=i}),null);
__d("VideoScrubberPreviewComponent",[],(function(a,b,c,d,e,f){__p&&__p();function g(a,b){"use strict";__p&&__p();if(!b)throw new Error("VideoScrubberPreview Component config null.");this.$4=b;this.$5=a;this.$2=b.hasPreviewThumbnails;this.$3=g.getSpriteURIs(b.spriteIndexToURIMap);this.$5.isPlayingVODHighlights()||this.$6();this.$5.addListener("switchedToFullVideo",function(){return this.$6()}.bind(this));this.$5.addListener("switchedToLiveVODHighlights",function(){return this.$7()}.bind(this))}g.prototype.hasPreviewThumbnails=function(){"use strict";return this.$2};g.prototype.$6=function(){"use strict";this.$5.registerOption("VideoScrubberPreviewComponent","scrubberPreviewSprites",this.getSprites.bind(this)),this.$5.registerOption("VideoScrubberPreviewComponent","hasPreviewThumbnails",this.hasPreviewThumbnails.bind(this)),this.$5.registerOption("VideoScrubberPreviewComponent","previewThumbnailInformation",this.getPreviewThumbnailInformation.bind(this))};g.prototype.$7=function(){"use strict";this.$5.unregisterOption("VideoScrubberPreviewComponent","scrubberPreviewSprites"),this.$5.unregisterOption("VideoScrubberPreviewComponent","hasPreviewThumbnails"),this.$5.unregisterOption("VideoScrubberPreviewComponent","previewThumbnailInformation")};g.prototype.getSprites=function(){"use strict";return this.$3};g.prototype.getPreviewThumbnailInformation=function(){"use strict";this.hasPreviewThumbnails()?this.$4.imagesPerColumn=this.$4.maxImagesPerSprite/this.$4.imagesPerRow:this.$4.imagesPerColumn=0;return this.$4};g.getSpriteURIs=function(a){"use strict";var b=new Map();for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.set(parseInt(c,10),a[c]);return b};e.exports=g}),null);
__d("VideoWithClickPlayPause",["VideoPlayerReason","logVideosClickTracking"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a,this.$2=this.$1.getVideoNode(),this.$1.addListener("clickVideo",this.$3.bind(this)),this.$1.hasSeenClick()&&this.$3()}a.prototype.$3=function(){"use strict";var a=this.$1.getOption("CommercialBreakVideoAdOverlay","videoController");if(this.$1.isState("playing")){if(this.$1.getOption("VideoWithLiveBroadcast","isLive")||a&&a.getOption("VideoWithLiveBroadcast","isLive")||this.$4()||this.$5())return;this.$1.pause(b("VideoPlayerReason").USER)}else b("logVideosClickTracking")(this.$2),this.$1.play(b("VideoPlayerReason").USER)};a.prototype.$4=function(){"use strict";var a=this.$1.getOption("CommercialBreakVideoAdOverlay","videoController");a=a&&a.getOption("VideoWithInstreamVideo","controller");return a&&!a.getConfig().canPauseAdBreak};a.prototype.$5=function(){"use strict";return this.$1.getOption("VideoWithInstreamVideo","disableClickToPause")};e.exports=a}),null);
__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","isNode","getContextualLayerCursorOffset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=Object.prototype.hasOwnProperty;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={shown:!1,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},this.$6=function(a){var b=a.clientX,c=a.clientY;a.preventDefault();a.stopPropagation();this.showAt(b,c)}.bind(this),this.$7=function(a){var c=this.$3();c=c&&b("DOMQuery").contains(c,a.target);a=a.button===0;c&&a||this.hide()}.bind(this),this.$8=function(){this.props.disableFocusOutline&&b("Focus").setWithoutOutline(this.$2())}.bind(this),this.$9=function(){var a=this.$2();this.props.disableFocusOutline?b("Focus").setWithoutOutline(a):b("Focus").set(a);this.state.shown&&this.hide()}.bind(this),this.$10=function(){this.hide()}.bind(this),c}a.prototype.getDefaultProps=function(){return{disableFocusOutline:!1}};a.prototype.$2=function(){return this.props.mountedTriggerElem};a.prototype.$3=function(){var a=this.refs.popover.getMenu();return a&&a.getRoot()};a.prototype.$4=function(){return this.refs.menuLayer.layer};a.prototype.renderLayers=function(){return b("React").createElement(b("ContextualLayer.react"),{alignment:"right",behaviors:[b("LayerHideOnEscape")],contextRef:function(){return this.$2()}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:"menuLayer",shown:this.state.shown,key:"menu"},b("React").createElement(b("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:"popover"},b("React").createElement("div",{className:"_4345",ref:"fakeTrigger"})))};a.prototype.render=function(){return this.props.mountedTriggerElem?b("React").createElement("span",null,this.renderLayers()):null};a.prototype.$5=function(a,c){var d=this.$4();a=b("getContextualLayerCursorOffset")(d,a,c);c=a.offsetX;a=a.offsetY;d.setOffsetX(c).setOffsetY(a);this.setState({offsetX:c,offsetY:a})};a.prototype.componentDidMount=function(){var a=this.$2(),c=b("ReactDOM").findDOMNode(this.refs.fakeTrigger),d=this.$4(),e=this.refs.popover;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(a,"contextmenu",this.$6),b("Event").listen(document.body,"mousedown",this.$7),b("Event").listen(a,"focus",this.$8),b("Event").listen(c,"focus",this.$9),b("Event").listen(window,"blur",this.$10),d.subscribe("show",function(){var a=this.state.lastOpenedX,b=this.state.lastOpenedY;this.$5(a,b);e.showPopover()}.bind(this)),d.subscribe("hide",function(){e.hidePopover()}))};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.release()};a.prototype.show=function(){this.setState({shown:!0})};a.prototype.showAt=function(a,b){this.setState({lastOpenedX:a,lastOpenedY:b}),this.show()};a.prototype.hide=function(){this.setState({shown:!1})};a.propTypes={disableFocusOutline:c.bool,menu:function(a,c,d){if(!i.call(a,c))return new Error(d+"."+c+" is required");d=a[c];a=d&&d.type;return!(a&&a.prototype instanceof b("PopoverMenuInterface"))?new Error(c+" must implement PopoverMenuInterface"):null},mountedTriggerElem:function(a,c,d){if(!i.call(a,c))return new Error(d+"."+c+" is required");else if(!b("isNode")(a[c]))return new Error(d+"."+c+" must be a raw DOM node");return null}};e.exports=a}),null);
__d("VideoSpinner",["cx","CircularProgressBar.react","CSS","EventListener","React","ReactDOM","VideoPlayerShakaGlobalConfig","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c){"use strict";this.$2=c,this.$1=a,this.$3=!1,a.addListener("beginPlayback",this.$5.bind(this)),a.addListener("finishPlayback",this.$6.bind(this)),a.addListener("pausePlayback",this.$7.bind(this)),a.addListener("playRequested",this.$8.bind(this)),a.addListener("buffering",this.$9.bind(this)),a.addListener("buffered",this.$10.bind(this)),a.addListener("networkInterrupted",this.$11.bind(this)),a.addListener("networkResumed",this.$12.bind(this)),a.addListener("stateChange",this.$13.bind(this)),a.addListener("clickVideo",this.$14.bind(this)),a.addListener("VideoSphericalOverlay/animationUpdate",this.$15.bind(this)),b("EventListener").listen(this.$2,"click",this.$16.bind(this)),b("VideoPlayerShakaGlobalConfig").getBool("use_progress_spinner",!1)&&(a.addListener("bufferingProgress",function(a){return this.$17(a)}.bind(this)),b("CSS").addClass(this.$2,"_69ci"))}a.prototype.$17=function(a){"use strict";b("ReactDOM").render(b("React").createElement(b("CircularProgressBar.react"),{animate:!0,text:Math.round(a*100)+"%",percentComplete:Math.max(a*100,10)}),this.$2)};a.prototype.$15=function(a,c){"use strict";a?b("CSS").addClass(this.$2,"_1st9"):b("CSS").removeClass(this.$2,"_1st9")};a.prototype.$11=function(){"use strict";b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)&&(this.$3&&b("CSS").show(this.$2)),this.$4=!0};a.prototype.$12=function(){"use strict";b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)&&(this.$3||b("CSS").hide(this.$2)),this.$4=!1};a.prototype.$9=function(){"use strict";var a=b("VideoPlayerShakaGlobalConfig").getNumber("buffering_spinner_delay_ms",0);this.$3=!0;a===0?b("CSS").show(this.$2):b("setTimeout")(function(){this.$3&&b("CSS").show(this.$2)}.bind(this),a);b("VideoPlayerShakaGlobalConfig").getBool("use_progress_spinner",!1)&&this.$17(0)};a.prototype.$10=function(){"use strict";b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)?this.$4||b("CSS").hide(this.$2):b("CSS").hide(this.$2),this.$3=!1};a.prototype.$5=function(){"use strict";this.$3?b("CSS").show(this.$2):b("CSS").hide(this.$2)};a.prototype.$7=function(){"use strict";b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)?this.$4||b("CSS").hide(this.$2):b("CSS").hide(this.$2)};a.prototype.$8=function(){"use strict";b("CSS").hide(this.$2)};a.prototype.$6=function(){"use strict";b("CSS").hide(this.$2)};a.prototype.$13=function(){"use strict";this.$1.isState("fallback")&&b("CSS").hide(this.$2)};a.prototype.$14=function(){"use strict";if(this.$1.isState("fallback"))return;(this.$3||this.$1.isState("ready")||this.$1.isState("loading"))&&b("CSS").show(this.$2)};a.prototype.$16=function(){"use strict";this.$1.clickVideo()};e.exports=a}),null);
__d("VideoPlayerHTML5ContextMenu.react",["cx","fbt","ContextualLayer.react","DOMQuery","Event","FBClipboardLink.react","Focus","FullScreen","Keys","LayerAutoFocus","LayerHideOnEscape","MountedContextMenu.react","React","ReactDOM","ReactXUIMenu","SubscriptionsHandler","URI","VideoContextMenuGK","VideoPermalinkURI","VideoPlayerExperiments","getFullScreenElement"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactXUIMenu").Item,k=.35,l=6,m=60;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={permalinkVisible:!1,fullscreened:!1,screenWidth:screen.width,screenHeight:screen.height},this.$2=function(){var a=b("getFullScreenElement")(),c=this.props.rootContainer;a=!!(b("FullScreen").isFullScreen()&&a&&c&&b("DOMQuery").contains(a,c));this.setState({fullscreened:a})}.bind(this),this.$7=function(){this.props.onTogglePause&&this.props.onTogglePause()}.bind(this),this.$8=function(){this.props.onToggleMute&&this.props.onToggleMute()}.bind(this),this.$4=function(){b("Focus").set(b("ReactDOM").findDOMNode(this.refs.permalinkText)),this.setState({permalinkVisible:!0})}.bind(this),this.$3=function(){this.setState({permalinkVisible:!1})}.bind(this),this.$9=function(){b("ReactDOM").findDOMNode(this.refs.permalinkText).select()}.bind(this),this.$10=function(a){b("Event").getKeyCode(a)==b("Keys").ESC&&this.setState({permalinkVisible:!1})}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.refs.permalinkLayer.layer;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("FullScreen").subscribe("changed",this.$2),a.subscribe("hide",this.$3),a.subscribe("show",this.$4));this.props.initialPosition&&this.refs.menu.showAt(this.props.initialPosition.x,this.props.initialPosition.y)};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.release()};a.prototype.$5=function(){if(this.props.paused)return h._("Play");else return h._("Pause")};a.prototype.$6=function(){if(this.props.muted)return h._("Unmute");else return h._("Mute")};a.prototype.hidePermalinkOverlay=function(){this.$3()};a.prototype.$11=function(a){a.preventDefault()};a.prototype.$12=function(){var a,b;if(this.state.fullscreened)a=this.state.screenWidth,b=this.state.screenHeight;else{var c=this.props.rootContainer.getBoundingClientRect();a=c.width;b=c.height}return{width:a,height:b}};a.prototype.$13=function(a){var c=this.props.permalinkURL;if(c){a={width:a+"px"};return b("React").createElement("div",{className:"_26oo",style:a},b("React").createElement("input",{className:"_26op autofocus",onFocus:this.$9,onKeyDown:this.$10,onMouseUp:this.$11,readOnly:!0,ref:"permalinkText",type:"text",value:c}),b("React").createElement("button",{className:"_26oq",onClick:this.$3},h._("Close")))}return null};a.prototype.renderLayers=function(){var a=this.props.permalinkURL&&this.state.permalinkVisible,c=0,d=0,e=null,f=this.$12(),g=f.width;f=f.height;var h=g*k;c=g/2-h/2;d=-f+l;this.state.fullscreened&&(d+=m);e=this.$13(h);return b("React").createElement(b("ContextualLayer.react"),{alignment:"left",behaviors:[b("LayerHideOnEscape"),b("LayerAutoFocus")],contextRef:function(){return this.props.videoContainer}.bind(this),offsetX:c,offsetY:d,position:"below",ref:"permalinkLayer",shown:a,key:"permalinkOverlay"},e)};a.prototype.$14=function(){if(!this.props.permalinkURL)return null;var a=new(b("URI"))(this.props.permalinkURL);if(b("VideoPlayerExperiments").copyLinkAtCurrentTimeInContextMenu&&b("VideoPermalinkURI").isValid(a)){a.addQueryData("t",this.props.getVideoCurrentTimePosition());return b("React").createElement(j,{ref:"copyPermalinkMenuItem"},b("React").createElement(b("FBClipboardLink.react"),{tooltip:null,tooltipSuccess:null,value:a.toString()},h._("Copy video URL at current time")))}return null};a.prototype.$15=function(){if(this.props.permalinkURL)if(b("VideoPlayerExperiments").copyLinkInContextMenu)return b("React").createElement(j,{ref:"copyPermalinkMenuItem"},b("React").createElement(b("FBClipboardLink.react"),{tooltip:null,tooltipSuccess:null,value:this.props.permalinkURL},h._("Copy Video URL")));else return b("React").createElement(j,{onclick:this.$4,ref:"permalinkMenuItem"},h._("Show video URL"));return null};a.prototype.render=function(){var a=this.props.paused!==null&&b("React").createElement(j,{onclick:this.$7},this.$5()),c=this.props.isLive?null:this.$14();a=b("React").createElement(b("ReactXUIMenu"),{className:b("VideoContextMenuGK").menuRedesign?"_45di":""},a,b("React").createElement(j,{onclick:this.$8},this.$6()),this.$15(),c,this.props.children);return b("React").createElement("span",null,b("React").createElement(b("MountedContextMenu.react"),{mountedTriggerElem:this.props.videoContainer,menu:a,ref:"menu"}),this.renderLayers())};e.exports=a}),null);
__d("VideoContextMenu",["Bootloader","CurrentUser","EventListener","React","ReactDOM","URI","UserAgent","VideoPlayerHTML5ContextMenu.react","VideoPlayerReason","VideoPlayerStates","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g=/(instagram)/g;function a(a,c,d){"use strict";__p&&__p();this.$10=function(){for(var a in this.$8){var b=this.$8[a].name,c=this.$8[a].option,d=this.$8[a].description,e=this.$8[a].closeMessage;this.$2.hasOption(b,c)?this.$13(b,c,d,e):this.$12(b,c)}this.$9()}.bind(this);this.$9=function(){this.$6&&this.$14()}.bind(this);this.$11=function(a){var c=/^a$/i.test(a.target.nodeName||"");c=c||b("CurrentUser").isEmployee()&&(b("UserAgent").isPlatform("Mac OS X")?a.getModifiers().meta:a.getModifiers().ctrl);c&&this.$6?(b("ReactDOM").unmountComponentAtNode(this.$4),delete this.$6):!c&&!this.$6&&(a.preventDefault(),this.$14(a))}.bind(this);this.$8={debugOverlay:{name:"DebugOverlay",option:"hidden",description:"Employee Debug Info",closeMessage:"Hide Debug Information"},statsForNerds:{name:"StatsForNerds",option:"hidden",description:"Show video stats",closeMessage:"Hide video stats"}};this.$2=a;this.$3=d;this.$4=c;this.$1={};this.$5=null;if(this.$3.permalinkURL){d=new(b("URI"))(this.$3.permalinkURL).getQualifiedURI();b("isFacebookURI")(d)||(d.setSubdomain("www"),d.setDomain(d.getDomain().replace(g,"facebook")));this.$5=d.toString()}c=["muteVideo","unmuteVideo","changeVolume","beginPlayback","pausePlayback","finishPlayback","adBreakIndicatorShowing"];["enterWatchAndScroll","exitWatchAndScroll"].forEach(function(b){return a.addListener(b,function(){this.$6&&this.$6.hidePermalinkOverlay(),this.$9()}.bind(this))}.bind(this));a.addListener("optionsChange",this.$10);this.$10();c.forEach(function(b){return a.addListener(b,this.$9)}.bind(this));b("EventListener").listen(this.$2.getRootNode(),"contextmenu",this.$11)}a.prototype.setPermalinkURL=function(a){"use strict";this.$5=a,this.$9()};a.prototype.$12=function(a,b){"use strict";this.$7&&this.$7.removeMenuItem(a,b)};a.prototype.$13=function(a,c,d,e){"use strict";b("Bootloader").loadModules(["VideoComponentOptionMenuItems"],function(b){this.$7||(this.$7=new b(this.$2,this.$9)),this.$7.addComponentOptionMenuItem(a,c,d,e)}.bind(this),"VideoContextMenu")};a.prototype.$15=function(a,b){"use strict";return!this.$7?void 0:this.$7.getComponentOptionMenuItem(a,b)};a.prototype.$14=function(a){"use strict";var c=this.$15(this.$8.debugOverlay.name,this.$8.debugOverlay.option),d=this.$15(this.$8.statsForNerds.name,this.$8.statsForNerds.option),e=this.$2.getRootNode(),f=this.$2.getContainerNode(),g=function(){return Math.round(this.$2.getCurrentTimePosition())}.bind(this);this.$6=b("ReactDOM").render(b("React").createElement(b("VideoPlayerHTML5ContextMenu.react"),{rootContainer:e,videoContainer:f,paused:this.$16()?null:!this.$2.isState(b("VideoPlayerStates").PLAYING),muted:this.$2.isMuted(),permalinkURL:this.$5,initialPosition:a?{x:a.clientX,y:a.clientY}:void 0,getVideoCurrentTimePosition:g,onTogglePause:function(){return this.$17()}.bind(this),onToggleMute:function(){return this.$18()}.bind(this),isLive:this.$2.isLiveVideo()},c,d),this.$4)};a.prototype.$16=function(){"use strict";if(this.$2.getOption("VideoContextMenu","disablePlayPauseMenuItem"))return!0;if(this.$2.getOption("VideoContextMenu","disablePauseMenuItem")&&!this.$2.isState(b("VideoPlayerStates").PAUSED))return!0;var a=this.$2.getOption("VideoWithCommercialBreak","controller");return a&&a.getIsDuringTransition()?!0:!1};a.prototype.$18=function(){"use strict";this.$2.isMuted()?this.$2.unmute():this.$2.mute()};a.prototype.$17=function(){"use strict";!this.$2.isState("playing")?this.$2.play(b("VideoPlayerReason").USER):this.$2.pause(b("VideoPlayerReason").USER)};e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a),this.dispatch=this.dispatch.bind(this)}e.exports=new a({strict:!0})}),null);
__d("LiveVideoPlayerActions",["LiveVideoPlayerDispatcher"],(function(a,b,c,d,e,f){a={setIsRewound:function(a,c){c={type:"SET_IS_REWOUND",isRewound:c,vpc:a};b("LiveVideoPlayerDispatcher").dispatch(c)},dismissRewindCommentOverlay:function(a){a={type:"DISMISS_REWIND_COMMENT_OVERLAY",playerID:a};b("LiveVideoPlayerDispatcher").dispatch(a)}};e.exports=a}),null);
__d("LiveVideoRewindLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GO_TO_LIVE:"go_to_live",GO_TO_BEGINNING:"go_to_beginning",BACK_BUTTON:"back_button",FORWARD_BUTTON:"forward_button",SCRUBBER:"scrubber",PAUSE:"pause",PLAY:"play",RENDER_REWIND_CONTROLS:"render_rewind_controls"})}),null);
__d("LiveRewindUtils",["LiveVideoPlayerActions","LiveVideoRewindLoggerEvent","LiveVideoRewindTypedLogger","TimeRanges","VideoPlayerController","VideoPlayerReason","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5,h=new Map(),i=250;function j(a){var b=0;for(var c=0;c<a.length();c++)b+=a.end(c)-a.start(c);return b>g?b-g:0}function a(a,b){__p&&__p();var c=a;if(b.length()<1)return 0;if(a<=0)return b.start(0);for(var a=0;a<b.length();a++){var d=b.end(a)-b.start(a);if(c<d)return b.start(a)+c;c-=d}return b.end(b.length()-1)}function k(a,b){__p&&__p();var c=a;if(b.length()<1)return c;var d=0;for(var e=0;e<b.length();e++){var f=b.start(e),g=f-d;c-=g;if(a<f){g=f-a;return c+g}if(a<=b.end(e))return c;d=b.end(e)}return c}function l(a,b,c,d){__p&&__p();if(c.length()<1)return 0;d==null&&(d=n(a,c));a<c.start(d)&&(a=c.start(d));a>c.end(d)&&(a=c.end(d));var e=a+b,f=c.end(c.length()-1),g=c.start(0);if(e<=g)return g;if(e>=f)return f;if(e>=c.start(d)&&e<=c.end(d))return e;if(e<c.start(d)){if(d<1)return g;g=a-c.start(d);g=b+g;var h=c.end(d-1);return l(h,g,c,d-1)}if(e>c.start(d)){if(d>=c.length()-1)return f;h=c.end(d)-a;g=b-h;e=c.start(d+1);return l(e,g,c,d+1)}return 0}function m(a,b){b==null&&(b=g);var c=a.end(a.length()-1);return l(c,-1*b,a)}function n(a,b){if(b.length()<1)return 0;var c=0;while(c<b.length()-1){if(a<b.end(c))return c;c++}return c}function c(a){var c=h.get(a);if(c==null){var d=b("uuid")();h.set(a,{sessionID:d,currentSequenceNumber:0});return d}return c.sessionID}function d(a){var c=h.get(a);if(c==null){h.set(a,{sessionID:b("uuid")(),currentSequenceNumber:0});return 0}a=++c.currentSequenceNumber;return a}function f(a){var c=a.getSeekableRanges();if(c){var d=k(a.getCurrentTimePosition(),c);c=c.start(0);s(a,c);b("LiveVideoPlayerActions").setIsRewound(a,!0);r(b("LiveVideoRewindLoggerEvent").GO_TO_BEGINNING,a,d,null,0,null)}}function o(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,-10,c);s(a,d);b("LiveVideoPlayerActions").setIsRewound(a,!0);r(b("LiveVideoRewindLoggerEvent").BACK_BUTTON,a,e,null,null,d)}function p(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,10,c);s(a,d);c=m(c);a.isState("playing")&&c-d<1&&b("LiveVideoPlayerActions").setIsRewound(a,!1);r(b("LiveVideoRewindLoggerEvent").FORWARD_BUTTON,a,e,null,null,d)}function q(a){__p&&__p();var c=a.getSeekableRanges();if(c){var d=a.getCurrentTimePosition();d=k(d,c);c=c.end(c.length()-1);s(a,c);a.isState("paused")&&a.play(b("VideoPlayerReason").USER);b("LiveVideoPlayerActions").setIsRewound(a,!1);r(b("LiveVideoRewindLoggerEvent").GO_TO_LIVE,a,d,null,null,c)}}function r(a,c,d,e,f,g){var h=c.getSeekableRanges(),i=h?j(h):0;d==null&&e!=null&&h!=null&&(d=k(e,h));f==null&&g!=null&&h!=null&&(f=k(g,h));new(b("LiveVideoRewindTypedLogger"))().setEvent(a).setPositionBefore(d).setPositionAfter(f).setVideoDuration(i).setVideoID(c.getVideoID()).setSessionID(t.getLoggingSessionID(c.getVideoPlayerID())).setActionSequenceNumber(t.getLoggingSequenceNumber(c.getVideoPlayerID())).log()}function s(a,c){var d=a.getState()==="paused";a.pause(b("VideoPlayerReason").SEEK);setTimeout(function(){a.seek(c),d||a.play(b("VideoPlayerReason").SEEK)},i)}var t={getSeekTime:l,getAbsolutePosition:a,getLiveHeadTimestamp:m,getLoggingSessionID:c,getLoggingSequenceNumber:d,getRelativePosition:k,getTotalDuration:j,goToBeginning:f,goToLive:q,logLiveRewindEvent:r,seekBack:o,seekForward:p,LIVE_HEAD_BUFFER_S:g};e.exports=t}),null);
__d("VideoPlaybackTimer.react",["cx","DateConsts","React","VideoPlayerExperiments","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){"use strict";h.constructor.call(this,a),this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:!1}}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.state.displayPreferenceSet||this.setState({displayRemainingTime:!a.displayElapsedTime})};a.prototype.getClock=function(a){"use strict";__p&&__p();var c="";isNaN(a)?a=0:a<0&&(a*=-1,c="-");var d=Math.floor(a/b("DateConsts").SEC_PER_HOUR),e=Math.floor((a-d*b("DateConsts").SEC_PER_HOUR)/b("DateConsts").SEC_PER_MIN),f=null;!this.props.displayMilliseconds?f=Math.round(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN):f=Math.floor(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN);f===b("DateConsts").SEC_PER_MIN&&(f=0,e++);e===b("DateConsts").MIN_PER_HOUR&&(e=0,d++);a=a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN-f;a=Math.round(a*b("DateConsts").MS_PER_SEC);var g=("0"+e).slice(-2);f=("0"+f).slice(-2);a=("00"+a).slice(-3);c=c;d===0?c+=e+":"+f:c+=d+":"+g+":"+f;this.props.displayMilliseconds&&(c+="."+a);return c};a.prototype.onButtonClick=function(){"use strict";this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:!0})};a.prototype.render=function(){"use strict";__p&&__p();var a=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime;a=a?this.props.remainingTimestamp:this.props.playbackPosTimestamp;var c="_66_y"+((!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded)&&!this.props.displayBothTimes?" _66_z":"");this.props.isInScrubberPreview&&(c="_66_-");var d=Object.assign({},this.props);delete d.displayElapsedTime;delete d.displayMilliseconds;delete d.isInScrubberPreview;delete d.playbackPosTimestamp;delete d.remainingTimestamp;delete d.isEmbedded;return this.props.displayBothTimes?b("React").createElement("div",babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c)}),b("React").createElement("span",{className:"_66_z"},this.getClock(this.props.playbackPosTimestamp)),b("React").createElement("span",null," / "),b("React").createElement("span",null,this.getClock(this.props.playbackDurationTimestamp))):b("React").createElement("div",babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c),onClick:this.props.isLiveVideo?void 0:this.onButtonClick.bind(this),role:"button",tabIndex:"0"}),this.getClock(a))};a.propTypes={isEmbedded:c.bool,isInScrubberPreview:c.bool,playbackDurationTimestamp:c.number,playbackPosTimestamp:c.number,remainingTimestamp:c.number,displayElapsedTime:c.bool,displayMilliseconds:c.bool,displayBothTimes:c.bool,useDarkTheme:c.bool};a.defaultProps={isInScrubberPreview:!1,playbackDurationTimestamp:0,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:!1,displayMilliseconds:!1,displayBothTimes:!1,useDarkTheme:!1};e.exports=a}),null);
__d("AdBreakInsertionDisabledReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ASSET_NOT_OWNED_BY_PAGE:"asset_not_owned_by_page",BRANDED_CONTENT:"branded_content",BROADCAST:"broadcast",HAS_LIVE_AD_BREAKS:"has_live_ad_breaks",NO_PERMISSION:"no_permission",NOT_ONBOARDED:"not_onboarded",NOT_ORGANIC_UPLOAD:"not_organic_upload",UNOWNED_ASSET_CROSSPOST:"unowned_asset_crosspost",TRIMMED_VIDEO_TOO_SHORT:"trimmed_video_too_short",VIDEO_TOO_SHORT:"video_too_short"})}),null);
__d("VideoInstreamUtils",["fbt","AdBreakInsertionDisabledReason","DateConsts","VideoInstreamAdsConstants"],(function(a,b,c,d,e,f,g){__p&&__p();var h={convertFormattedTimeToSeconds:function(a){__p&&__p();var c=0;a=a.split(".");if(a.length>2)return null;if(a.length===2){if(a[1].length===0)return null;var d=a[1];while(d.length<3)d+="0";d=Number(d);if(isNaN(d)||d<0||d>=b("DateConsts").MS_PER_SEC)return null;c+=d/b("DateConsts").MS_PER_SEC}d=a[0].split(":");if(d.length>3)return null;for(var a=0;a<d.length;a++){if(d[a].length===0)return null;var e=Number(d[a]);if(isNaN(e)||e<0||e>=60)return null;c+=e*Math.pow(60,d.length-a-1)}return c},convertTimestampToFormattedString:function(a){__p&&__p();a=Math.round(a*b("DateConsts").MS_PER_SEC)/b("DateConsts").MS_PER_SEC;var c=Math.floor(a/b("DateConsts").SEC_PER_HOUR);a=a-c*b("DateConsts").SEC_PER_HOUR;var d=Math.floor(a/b("DateConsts").SEC_PER_MIN),e=Math.floor(a-d*b("DateConsts").SEC_PER_MIN);a=Math.round(a*b("DateConsts").MS_PER_SEC);var f=("0"+c).slice(-2);d=("0"+d).slice(-2);e=("0"+e).slice(-2);a=("00"+a).slice(-3);var g="";c>0&&(g+=f+":");return g+=d+":"+e+"."+a},getMaxPossibleAdBreaks:function(a,c){a=Math.ceil(a)*b("DateConsts").MS_PER_SEC;if(a<b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;if(!c)return b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS;c=(a-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS-b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)/b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(c)+1)},getEligibleTimeSegments:function(a,c,d){__p&&__p();var e=h.getMaxPossibleAdBreaks(c,d);if(e===0||!d&&a.length>=e)return[];var f=b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,g=c-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,i=b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/b("DateConsts").MS_PER_SEC;if(a.length===0||!d)return[{start:f,end:g}];var j=[];a.forEach(function(b,c){__p&&__p();if(c===0){var d=b.timeOffset-i;d>=f&&j.push({start:f,end:d})}if(c-1>=0){d=a[c-1].timeOffset+i;var e=b.timeOffset-i;d<=e&&j.push({start:d,end:e})}if(c===a.length-1){d=b.timeOffset+i;d<=g&&j.push({start:d,end:g})}});return j},isInEligibleTimeSegments:function(a,b,c,d){if(a===null||a===void 0)return!1;c=h.getEligibleTimeSegments(c,b,d);for(var b=0;b<c.length;b++)if(a>=c[b].start&&a<=c[b].end)return!0;return!1},isAdBreakViolatingInsertionRules:function(a,c,d,e){__p&&__p();var f=a[c];if(f.timeOffset*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)return!0;if((d-f.timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS)return!0;if(e)for(var d=0;d<a.length;d++){if(d===c||a[d].timeOffset>=f.timeOffset)continue;if((f.timeOffset-a[d].timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS)return!0}return!1},getAdBreakTabState:function(a,c,d,e){a=new Set(a);h.getMaxPossibleAdBreaks(d,e)===0&&a.add(b("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT);c&&a.add(b("AdBreakInsertionDisabledReason").BRANDED_CONTENT);return this._getAdBreakTabStateFromDisabledReasons(a)},_getAdBreakTabStateFromDisabledReasons:function(a){__p&&__p();if(a.size===0)return{disabled:!1,errorMessageHeader:null,errorMessageContent:null};else if(a.has(b("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT))return{disabled:!0,errorMessageHeader:g._({"*":"Videos must be {insertion interval} seconds or longer"},[g._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:g._("Your video is too short to include ad breaks.")};else if(a.has(b("AdBreakInsertionDisabledReason").NOT_ORGANIC_UPLOAD))return{disabled:!0,errorMessageHeader:g._("Ad breaks are not available"),errorMessageContent:g._("Ad breaks can only be placed in original videos, not crossposted or reshared videos.")};else if(a.has(b("AdBreakInsertionDisabledReason").BROADCAST))return{disabled:!0,errorMessageHeader:g._("Ad breaks are not available"),errorMessageContent:g._("Live videos are not eligible for ad breaks, even if they are no longer live.")};else if(a.has(b("AdBreakInsertionDisabledReason").BRANDED_CONTENT))return{disabled:!0,errorMessageHeader:g._("Ad breaks are not available"),errorMessageContent:g._("Ad breaks can't be used in this video because it contains tagged business partners.")};else if(a.has(b("AdBreakInsertionDisabledReason").ASSET_NOT_OWNED_BY_PAGE)||a.has(b("AdBreakInsertionDisabledReason").UNOWNED_ASSET_CROSSPOST))return{disabled:!0,errorMessageHeader:g._("Ad breaks are not available"),errorMessageContent:g._("You can only modify ad breaks in videos that belong to Pages you manage.")};return{disabled:!0,errorMessageHeader:g._("Ad breaks are not available"),errorMessageContent:null}}};e.exports=h}),null);
__d("VideoScrubberAnnotatedMomentOfInterest.react",["cx","React","ShimButton.react","SUIAtlasChromeTheme","SUITooltip.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.timestamp;if(a<0||a>this.props.playbackDuration)return b("React").createElement("div",null);var c=a*100/this.props.playbackDuration+"%",d=this.props.annotation;return b("React").createElement("div",{style:{marginLeft:c}},b("React").createElement("div",{className:"_2egj"},b("React").createElement(b("SUITooltip.react"),{alignment:"center",tooltip:d,theme:b("SUIAtlasChromeTheme"),offset:10,maxWidth:150},b("React").createElement(b("ShimButton.react"),{className:"_2egk _2egl",onClick:function(b){return this.props.onPointOfInterestSelect(a)}.bind(this),style:{left:c}}))))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={annotation:c.string.isRequired,playbackDuration:c.number.isRequired,timestamp:c.number.isRequired,onPointOfInterestSelect:c.func.isRequired};e.exports=a}),null);
__d("VideoScrubberAnnotatedMomentOfInterestBar.react",["cx","React","VideoScrubberAnnotatedMomentOfInterest.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(a,c){"use strict";return b("React").createElement(b("VideoScrubberAnnotatedMomentOfInterest.react"),{key:"poi"+a,annotation:c,playbackDuration:this.props.playbackDuration,timestamp:a,onPointOfInterestSelect:this.props.onPointOfInterestSelect})};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_3fh5"},b("React").createElement("div",{className:"_3fh8"},Object.entries(this.props.pointsOfInterest).map(function(a){var b=a[0];a=a[1];return this.$1(parseInt(b,10),String(a))}.bind(this))))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={playbackDuration:c.number.isRequired,onPointOfInterestSelect:c.func.isRequired,pointsOfInterest:c.object.isRequired};e.exports=a}),null);
__d("VideoScrubberPointOfInterestBar.react",["cx","React","ShimButton.react","VideoPlaybackTimer.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;c=b("React").PropTypes;d=babelHelpers.inherits(j,b("React").PureComponent);h=d&&d.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={visibility:"hidden"},b}j.prototype.render=function(){"use strict";var a=this.props.timestamp,c=a*100/this.props.playbackDuration+"%",d=b("React").createElement(b("VideoPlaybackTimer.react"),{className:"_zs-",isInScrubberPreview:!0,playbackPosTimestamp:0,remainingTimestamp:a,style:{left:c,visibility:this.state.visibility}});return b("React").createElement("div",null,b("React").createElement(b("ShimButton.react"),{className:"_zt2"+(this.props.isActive?" _zt3":""),onClick:function(b){return this.props.onPointOfInterestSelect(a)}.bind(this),onMouseEnter:function(a){return this.setState({visibility:"visible"})}.bind(this),onMouseLeave:function(a){return this.setState({visibility:"hidden"})}.bind(this),style:{left:c}}),this.props.showPointOfInterestTimestamps&&d)};j.propTypes={playbackDuration:c.number.isRequired,timestamp:c.number.isRequired,isActive:c.bool.isRequired,showPointOfInterestTimestamps:c.bool.isRequired,onPointOfInterestSelect:c.func.isRequired};f=babelHelpers.inherits(a,b("React").Component);i=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){return b("React").createElement(j,{key:"poi"+a,playbackDuration:this.props.playbackDuration,timestamp:a,isActive:a===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect,showPointOfInterestTimestamps:!!this.props.showPointOfInterestTimestamps})}.bind(this),c}a.prototype.shouldComponentUpdate=function(a,b){"use strict";return a.tabIndex!=this.props.tabIndex||a.currentPointOfInterest!==this.props.currentPointOfInterest||a.playbackDuration!=this.props.playbackDuration||a.pointsOfInterest.length!=this.props.pointsOfInterest.length||a.pointsOfInterest.some(function(a,b){return this.props.pointsOfInterest[b]!=a}.bind(this))};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_zud",tabIndex:this.props.tabIndex},b("React").createElement("div",{className:"_zue"},this.props.pointsOfInterest.map(this.$1,this)))};a.propTypes={tabIndex:c.string.isRequired,playbackDuration:c.number.isRequired,onPointOfInterestSelect:c.func.isRequired,currentPointOfInterest:c.number,pointsOfInterest:c.array.isRequired,showPointOfInterestTimestamps:c.bool};e.exports=a}),null);
__d("VideoScrubberPreviewSpriteCalculation",[],(function(a,b,c,d,e,f){__p&&__p();a={getImageCoordinatesInSpriteByTime:function(a,b){var c=this.getTotalTimeInSprite(b.maxImagesPerSprite,b.timeIntervalBetweenImages);a=Math.floor(a%c/b.timeIntervalBetweenImages);c=Math.floor(a/b.imagesPerRow);a=a%b.imagesPerRow;return{x:a*b.previewScrubberWidth,y:c*b.previewScrubberHeight}},getSpriteIndex:function(a,b,c){b=this.getTotalTimeInSprite(b,c);return Math.floor(a/b)+1},getTotalTimeInSprite:function(a,b){return a*b}};e.exports=a}),null);
__d("VideoScrubber.react",["cx","fbt","BootloadedComponent.react","DateConsts","EventListener","JSResource","Keys","ProfileTile.react","React","ReactDOM","Tooltip.react","VideoInstreamAdsConstants","VideoInstreamUtils","VideoPlaybackTimer.react","VideoScrubberAnnotatedMomentOfInterestBar.react","VideoScrubberPointOfInterestBar.react","VideoScrubberPreviewSpriteCalculation","VideoStereoFormat","emptyFunction","getElementPosition","gkx","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){"use strict";i.constructor.call(this,a),this.$6=new Map(),this.$6.set(0,""),this.$9=0,this.state={awaitingUpdate:!1,barCoords:{x:0,y:0,height:0,width:0},mouseOver:!1,nubEngaged:!1,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:!1},lastSpriteDimension:{numRow:0,numColumn:0},shouldIgnoreClipStartTS:!1}}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.onDragNubBeginImpl=function(a,b){"use strict";this.setState({nubEngaged:!0,scrubRatio:this.getPositionRatio(b,this.state.barCoords)}),this.props.onScrubBegin&&this.props.onScrubBegin(),a.stopPropagation(),a.preventDefault()};a.prototype.onDragNubBeginClick=function(a){"use strict";if(a.button!==0)return;this.onDragNubBeginImpl(a,a.clientX)};a.prototype.onDragNubBeginTouch=function(a){"use strict";if(this.props.alwaysShowThumbnail)return;a.persist();var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:c},function(){return this.onDragNubBeginImpl(a,a.touches[0].clientX)}.bind(this))};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.setState({awaitingUpdate:!1});if(this.props.alwaysShowThumbnail){var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:c});this.$8=null;this.$7=null;this.timecodeUpdate(c.x+c.width*this.getPlayedRatio(a.playbackDuration,a.playbackPosition))}};a.prototype.componentDidUpdate=function(a,c){"use strict";!c.nubEngaged&&this.state.nubEngaged?(this.$1=b("EventListener").listen(document,"mousemove",function(a){this.onDragNubUpdate(a.clientX),this.onTimecodeUpdate(a,a.clientX)}.bind(this)),this.$2=b("EventListener").listen(document,"mouseup",this.onDragNubRelease.bind(this)),this.$4=b("EventListener").listen(document,"touchmove",function(a){this.onDragNubUpdate(a.touches[0].clientX),this.onTimecodeUpdate(a,a.touches[0].clientX)}.bind(this)),this.$3=b("EventListener").listen(document,"touchend",this.onDragNubRelease.bind(this))):c.nubEngaged&&!this.state.nubEngaged&&(this.$1&&this.$1.remove(),this.$2&&this.$2.remove(),this.$4&&this.$4.remove(),this.$3&&this.$3.remove()),!c.mouseOver&&this.state.mouseOver?this.$5=b("EventListener").listen(document,"mousemove",function(a){return this.onTimecodeUpdate(a,a.clientX)}.bind(this)):c.mouseOver&&!this.state.mouseOver&&(this.$5&&this.$5.remove())};a.prototype.timecodeUpdate=function(a){"use strict";__p&&__p();var c=this.props.playbackDuration;if(!c)return;var d=this.getPositionRatio(a,this.state.barCoords)*c,e=this.$7?this.$7:b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.timecode));this.$7=e;if(!this.props.hasScrubberPreview){c=this.getPositionRatio(a,this.state.barCoords)-Math.ceil(e.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:d,timecodeRatio:c})}else this.props.previewThumbnailInformation&&(this.state.previewThumbnailInformation.previewScrubberWidth===0&&this.retrievePreviewThumbnailInfo(),b("ReactDOM").unstable_batchedUpdates(function(){this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null?this.updatePreviewThumbnailVideo(d,e,a):this.props.scrubberPreviewSprites&&this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,d,e,a)}.bind(this)))};a.prototype.onTimecodeUpdate=function(a,b){"use strict";this.timecodeUpdate(b),a.preventDefault(),a.stopPropagation()};a.prototype.updatePreviewThumbnail=function(a,b,c,d){"use strict";__p&&__p();this.setState({timecodeTimestamp:b});b=Math.floor(b);var e=this.$6;this.isSpriteMapURIFetched()||(this.$6=a);if(this.state.previewThumbnailInformation){a=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(b,a,e)}this.updatePreviewThumbnailLocation(c,d)};a.prototype.updatePreviewThumbnailVideo=function(a,c,d){"use strict";this.setState({timecodeTimestamp:a});var e=b("ReactDOM").findDOMNode(this.refs.previewThumbnailVideo);e.currentTime=a/30;this.updatePreviewThumbnailLocation(c,d)};a.prototype.updatePreviewThumbnailLocation=function(a,c){"use strict";var d=this.$8?this.$8:this.$8=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.previewThumbnailContainer));this.$8=d;c=this.getPositionRatio(c,this.state.barCoords)-Math.ceil(d.width/2)/this.state.barCoords.width;a=(d.width-a.width)/(2*d.width);this.setState({timecodeRatio:a,previewRatio:c})};a.prototype.updatePreviewThumbnailImage=function(a,c,d){"use strict";__p&&__p();d=b("VideoScrubberPreviewSpriteCalculation").getImageCoordinatesInSpriteByTime(a,c);a=b("VideoScrubberPreviewSpriteCalculation").getSpriteIndex(a,c.maxImagesPerSprite,c.timeIntervalBetweenImages);if(a==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$6){c=this.$6.get(a);var e=new Image(),f=this.onLastImageLoad.bind(this);e.onload=function(){f(this.width,this.height)};e.src=c}this.setState({scrubberPreviewSpriteIndex:a,scrubberPreviewBackgroundPosition:d})};a.prototype.onLastImageLoad=function(a,b){"use strict";this.setState({lastSpriteDimension:{numRow:b/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:a/this.state.previewThumbnailInformation.previewScrubberWidth}})};a.prototype.retrievePreviewThumbnailInfo=function(){"use strict";this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})};a.prototype.isSpriteMapURIFetched=function(){"use strict";if(this.$6)return this.$6.size>1;else return!1};a.prototype.getPositionRatio=function(a,b){"use strict";a=a-b.x;a=a/b.width;return Math.min(Math.max(0,a),1)};a.prototype.onDragNubUpdate=function(a){"use strict";this.setState({scrubRatio:this.getPositionRatio(a,this.state.barCoords)})};a.prototype.onDragNubRelease=function(a){"use strict";__p&&__p();var c=this.props.playbackDuration;if(!c)return;var d=this.state.awaitingUpdate;c=this.state.scrubRatio*c;this.props.onScrubEnd&&(this.props.onScrubEnd(c),d=!0);var e=this.props.videoClipInfo;e&&e.start_time_in_ms!==null&&(c<=e.start_time_in_ms/b("DateConsts").MS_PER_SEC&&this.setState({shouldIgnoreClipStartTS:!0}));this.setState({nubEngaged:!1,awaitingUpdate:d});a.preventDefault();a.stopPropagation()};a.prototype.getPlayedRatio=function(a,b){"use strict";if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};a.prototype.getBufferedRatio=function(){"use strict";var a=this.props.playbackDuration,b=this.props.bufferedPosition;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};a.prototype.getRangeLimitedRatio=function(a){"use strict";return isNaN(a)||a<0||a>1?0:a};a.prototype.getNumberOfSprites=function(){"use strict";return this.$6?this.$6.size:0};a.prototype.getAdBreakIndicators=function(){"use strict";__p&&__p();if(!this.props.playbackDuration||!this.props.adBreaks)return null;var a=[];for(var c=0;c<this.props.adBreaks.length;c++){var d=this.props.adBreaks[c],e=d.getTimeOffsetInMs();if(e===null||e===void 0)continue;e/=b("DateConsts").MS_PER_SEC;var f=this.props.playbackDuration;if(e<0||e>f)continue;var g={left:e/f*100+"%"},h=[];this.props.adBreaksDisableReasons&&(h=this.props.adBreaksDisableReasons[c]);var i="[FB Only] The ad break is disabled for "+h.join(", ")+".";if(b("gkx")("728321")){var j=d.getNaturalnessScore(),k=d.getMidSpeechScore(),l="";j&&(l=l+"Naturalness Score: "+j.toFixed(3).toString());k&&(l=l+" mid speech score: "+k.toFixed(3).toString());a.push(b("React").createElement(b("Tooltip.react"),{tooltip:h.length>0?i:l,key:"ad_break_indicator_"+c,style:{position:"absolute",left:e/f*100+"%"}},b("React").createElement("div",{className:(h.length===0?"_1p4l":"")+(h.length>0?" _1p4m":"")+(d.getIsAdBreakAutoInserted()&&h.length===0?" _1p4n":"")+(d.getIsAdBreakAutoInserted()&&h.length>0?" _1p4o":"")},h.length>0?"X":null)))}else a.push(b("React").createElement("div",{key:"ad_break_indicator_"+c,style:g,className:(h.length===0?"_1p4l":"")+(h.length>0?" _1p4m":"")+(d.getIsAdBreakAutoInserted()&&h.length===0?" _1p4n":"")+(d.getIsAdBreakAutoInserted()&&h.length>0?" _1p4o":"")},h.length>0?b("React").createElement(b("Tooltip.react"),{tooltip:i},"X"):null))}return b("React").createElement("div",null,a)};a.prototype.getInsertedAdBreaks=function(){"use strict";__p&&__p();if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var a=[];this.props.insertedAdBreaks.map(function(c,d){c=c.timeOffset;var e=this.props.playbackDuration;c={left:"calc("+c/e*100+"% - 2px)"};a.push(b("React").createElement("div",{key:"inserted_ad_break"+d,style:c,className:(this.props.isAdBreakInsertionWithoutGapRule?"":"_1p4q")+(this.props.isAdBreakInsertionWithoutGapRule?" _1p4r":"")+(this.props.isAdBreakDisabled?" _1p4s":"")},this.props.isAdBreakInsertionWithoutGapRule?null:d+1))}.bind(this));return b("React").createElement("div",null,a)};a.prototype.getEligibleAdBreaksTimeSegments=function(){"use strict";__p&&__p();if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;if(this.props.isAdBreakInsertionWithoutGapRule&&this.props.insertedAdBreaks&&this.props.insertedAdBreaks.length>=b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS)return null;var a=0;this.state.awaitingUpdate?a=this.$9:a=this.props.playbackPosition;var c=this.props.playbackDuration,d=b("VideoInstreamUtils").getEligibleTimeSegments(this.props.insertedAdBreaks,c,!this.props.isAdBreakInsertionWithoutGapRule);this.state.nubEngaged?this.$9=this.state.timecodeTimestamp:this.$9=a;var e=[];d.forEach(function(a,d){var f=(a.end-a.start)/c*100,g=this.$9>=a.start&&this.$9<=a.end;a={left:"calc("+a.start/c*100+"% - 2px)",width:f+"%"};e.push(b("React").createElement("span",{key:"time_segment"+d,className:"_1p4t"+(g?" _1p4u":""),style:a}))}.bind(this));return b("React").createElement("div",{className:"_1p50"},e)};a.prototype.onMouseEnter=function(a){"use strict";if(this.props.alwaysShowThumbnail)return;a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({mouseOver:!0,barCoords:a})};a.prototype.onMouseLeave=function(a){"use strict";if(this.props.alwaysShowThumbnail)return;b("ReactDOM").findDOMNode(this.refs.bar).blur();b("ReactDOM").unstable_batchedUpdates(function(){this.setState({mouseOver:!1}),this.state.nubEngaged||this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}})}.bind(this));this.$8=null;this.$7=null};a.prototype.onMouseEnterOnThumbnailOrTimecode=function(a){"use strict";if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="hidden"};a.prototype.onMouseLeaveOnThumbnailOrTimecode=function(a){"use strict";if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="visible"};a.prototype.onKeyDown=function(a){"use strict";__p&&__p();var c=this.props.playbackDuration,d=this.props.playbackPosition;if(!c||!d)return;d=d;if(a.keyCode===b("Keys").RIGHT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekForward){this.props.onLiveRewindSeekForward();return}d+=5;d>=c&&(d=c-.01)}else if(a.keyCode===b("Keys").LEFT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekBack){this.props.onLiveRewindSeekBack();return}d-=5;d<0&&(d=0)}else if(a.keyCode===b("Keys").HOME){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToBeginning){this.props.onLiveRewindToBeginning();return}d=0}else if(a.keyCode===b("Keys").END){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToLive){this.props.onLiveRewindToLive();return}d=c-.01}else return;this.props.onScrubEnd&&this.props.onScrubEnd(d)};a.prototype.canShowHeatmap=function(){"use strict";return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null};a.prototype.render=function(){"use strict";__p&&__p();var a=b("joinClasses")(this.props.className,"_2yu5"+(this.state.nubEngaged?" _2yu6":"")),c=(this.props.hasScrubberPreview?"_3iit":"")+(this.props.hasScrubberPreview?"":" _3iiu"),d={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+"%"},e={width:this.getBufferedRatio()*100+"%"},f=this.props.videoClipInfo,g="0%";if(f){var i=this.getRangeLimitedRatio(f.start_time_in_ms/b("DateConsts").MS_PER_SEC/this.props.playbackDuration);g=i*100+"%";this.state.shouldIgnoreClipStartTS||(d={width:this.getRangeLimitedRatio(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)-i)*100+"%",marginLeft:g},e={width:this.getRangeLimitedRatio(this.getBufferedRatio()-i)*100+"%",marginLeft:g})}i={left:this.state.timecodeRatio*100+"%"};var j={},k={},l=null,m=null,n=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){n=b("React").createElement(b("VideoPlaybackTimer.react"),{className:c,isInScrubberPreview:!0,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:"timecode",remainingTimestamp:this.state.timecodeTimestamp,style:i});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){c=this.state.previewThumbnailInformation.previewScrubberWidth;i=this.state.previewThumbnailInformation.previewScrubberHeight;var o=100,p=100;this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex?(o*=this.state.previewThumbnailInformation.imagesPerRow,p*=this.state.previewThumbnailInformation.imagesPerColumn):this.state.lastSpriteDimension.numRow&&(o*=this.state.lastSpriteDimension.numRow,p*=this.state.lastSpriteDimension.numColumn);var q=this.state.previewThumbnailInformation.stereoMode;q===b("VideoStereoFormat").LEFT_RIGHT?(c/=2,o*=2):q===b("VideoStereoFormat").TOP_BOTTOM&&(i/=2,p*=2);q=1;this.props.isFullscreen?q=1.5:this.props.isInTahoe&&(q=1.2);if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null)j={width:c*q+"px",height:i*q+"px"},m=b("React").createElement("video",{muted:"true",preload:"auto",ref:"previewThumbnailVideo",src:this.state.previewThumbnailInformation.scrubberVideoURI,style:j});else if(this.$6){var r="";if(this.state.scrubberPreviewSpriteIndex){var s=this.$6.get(this.state.scrubberPreviewSpriteIndex);s&&(r="url("+s+")")}var t;o>100?t=o+"% "+p+"%":r="";j={width:c*q+"px",height:i*q+"px",backgroundImage:r,backgroundPosition:"-"+this.state.scrubberPreviewBackgroundPosition.x*q+"px -"+this.state.scrubberPreviewBackgroundPosition.y*q+"px",backgroundSize:t};m=b("React").createElement("div",{className:"_3iiw",ref:"previewThumbnail",style:j})}k={left:this.state.previewRatio*100+"%",display:this.props.alwaysShowThumbnail?"block":void 0};l=b("React").createElement("div",{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_3iiv",ref:"previewThumbnailContainer",style:k},m,n)}}s=null;this.props.pointsOfInterest.length>0&&(s=b("React").createElement(b("VideoScrubberPointOfInterestBar.react"),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps}));o=null;p=b("gkx")("678904");Object.keys(this.props.annotatedMomentsOfInterest).length>0&&p&&(o=b("React").createElement(b("VideoScrubberAnnotatedMomentOfInterestBar.react"),{playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onAnnotatedMomentOfInterestSelect,pointsOfInterest:this.props.annotatedMomentsOfInterest}));c=this.getAdBreakIndicators();i=null;if(this.canShowHeatmap()){r=this.props.hasScrubberPreview?l:n;q=null;r!=null&&(q=this.refs[r.ref]);i=b("React").createElement("div",{className:"_27ew"},b("React").createElement("div",{className:"_5h19",style:d},b("React").createElement("div",{className:"_2yua _4sxb",ref:"nub"})),b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("LiveHeatmap.react").__setRef("VideoScrubber.react"),bootloadPlaceholder:b("React").createElement("div",null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:q,ref:"bar",tabIndex:this.props.tabIndex,"aria-label":h._("Change Position")}),r,c)}j=this.props.playbackDuration>500?10:1;k=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*j)/j;m=k+"%";p=this.props.isFullscreen||this.props.isInTahoe;q=b("React").createElement("div",{className:a,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBeginClick.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onTouchStart:this.onDragNubBeginTouch.bind(this)},i?i:b("React").createElement("div",{tabIndex:this.props.tabIndex,role:"slider","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":this.props.playbackDuration,"aria-valuenow":this.props.playbackPosition,"aria-valuetext":m,"aria-label":h._("Change position"),className:"_2yu7",ref:"bar"},b("React").createElement("div",{className:"_2yu8",style:e}),b("React").createElement("div",{style:d,className:(this.props.isLiveVideo?"":"_2yu9")+(this.props.isLiveVideo&&!this.props.isLiveRewound?" _1p51":"")+(this.props.isLiveRewound?" _1p52":"")},b("React").createElement("div",{className:"_2yua _4sxb",ref:"nub"})),f?b("React").createElement("div",{className:"_355j",style:{width:g}},b("React").createElement(b("ProfileTile.react"),{id:f.sharer_id,size:p?32:24,imageProps:{className:"_355k"},tileProps:{className:"_355n",style:{marginTop:p?-16:-10}}})):null,this.props.hasScrubberPreview?l:n,c,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return b("React").createElement("div",null,o,q,s)};a.propTypes={alwaysShowThumbnail:c.bool,annotatedMomentsOfInterest:c.object,bufferedPosition:c.number.isRequired,hasScrubberPreview:c.bool,isFullscreen:c.bool,onAnnotatedMomentOfInterestSelect:c.func,onScrubBegin:c.func.isRequired,onPointOfInterestSelect:c.func,onScrubEnd:c.func.isRequired,playbackDuration:c.number.isRequired,playbackPosition:c.number.isRequired,pointsOfInterest:c.array,previewThumbnailInformation:c.object,scrubberPreviewSprites:c.object,showPointOfInterestTimestamps:c.bool,tabIndex:c.string.isRequired};a.defaultProps={alwaysShowThumbnail:!1,annotatedMomentsOfInterest:{},hasScrubberPreview:!1,pointsOfInterest:[],onAnnotatedMomentOfInterestSelect:b("emptyFunction"),onPointOfInterestSelect:b("emptyFunction"),onScrubBegin:b("emptyFunction"),onScrubEnd:b("emptyFunction"),showPointOfInterestTimestamps:!1};e.exports=a}),null);
__d("VideoWithLoopingPlayback",["VideoPlayerLoggerSource","VideoPlayerReason","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){c===void 0&&(c=-1),this.$5=!1,this.$6=function(){var a=this.$1.getOption("FeedAutoplay","isVisibleForAutoplay"),c=this.$1.getOption("WatchAndScroll","isActive"),d=this.$1.getIsInChannel(),e=this.$1.getSource()===b("VideoPlayerLoggerSource").TAHOE;!this.$5&&(a||a===void 0)&&!c&&!d&&!e&&(!this.$4||this.$3<this.$4)&&(b("setImmediate")(function(){return this.$1.play(b("VideoPlayerReason").LOOP)}.bind(this)),this.$3++,this.$4&&this.$3===this.$4-1&&this.$1.setOption("Looping","isLooping",!1))}.bind(this),this.$1=a,this.$2=!0,this.$3=1,this.$4=c>-1?c:null,this.$1.addListener("finishPlayback",this.$6),this.$1.registerOption("Looping","isLooping",function(){return this.$2}.bind(this),function(a){return this.$7(a)}.bind(this)),this.$1.registerOption("Looping","disabled",function(){return this.$5}.bind(this),function(a){return this.$5=a}.bind(this))}a.prototype.isLooping=function(){"use strict";return this.$2};a.prototype.getLoopCount=function(){"use strict";return this.$3};a.prototype.getMaxLoopCount=function(){"use strict";return this.$4};a.prototype.setMaxLoopCount=function(a){"use strict";this.$4=a>-1?a:null};a.prototype.$7=function(a){"use strict";this.$2=a};e.exports=a}),null);
__d("VideoPlayerFallbackEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTER:"VideoPlayerFallbackEvents/enter",RECOVER:"VideoPlayerFallbackEvents/recover"})}),null);