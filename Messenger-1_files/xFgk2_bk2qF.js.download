if (self.CavalryLogger) { CavalryLogger.start_js(["Auaz6"]); }

__d("MercuryTypingAnimationReact.bs",["cx","React","ReasonReact.bs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReasonReact.bs").statelessComponent("MercuryTypingAnimationReact");function a(a,c){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){return b("React").createElement("div",{className:b("joinClasses")("_4a0v _1x3z",a!==void 0?a:"")},b("React").createElement("div",{className:"_4b0g"},b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"})))},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("isRetina",[],(function(a,b,c,d,e,f){"use strict";e.exports=function(){return(window.devicePixelRatio||1)>1}}),null);
__d("SpotlightMessagesViewerContainerRoute",["react-relay/classic/query/RelayQL","react-relay/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("react-relay/classic/route/RelayRoute"));g&&g.prototype;function a(){g.apply(this,arguments)}a.routeName="SpotlightMessagesViewerContainerRoute";a.paramDefinition={photoID:{type:"String",required:!0}};a.queries={fullMedia:function(a){return function(a){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"photoID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},b("react-relay/classic/query/RelayQL").__frag(a)]),fieldName:"node",kind:"Query",metadata:{isAbstract:!0,identifyingArgName:"id",identifyingArgType:"ID!"},name:"SpotlightMessagesViewerContainerRoute",type:"Node"}}(a.getFragment("fullMedia"))}};e.exports=a}),null);
__d("shouldNotRenderSegoe",["MessengerConfig","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("[\u0530-\u05f4\u10a0-\u10ff]"),h=b("UserAgent").isBrowser("Chrome")&&b("UserAgent").isPlatform("Windows 10");e.exports=function(a){return!b("MessengerConfig").SegoeUIDisabled&&h&&g.test(a)}}),null);
__d("MercuryAudioPlayer",["Arbiter","DOM","Event","Flash"],(function(a,b,c,d,e,f){__p&&__p();var g=200;function h(){var a=b("DOM").create("audio"),c=!1;try{a.canPlayType&&(a.canPlayType("video/mp4;").replace(/^no$/,"")&&(c=!0))}finally{return c}}function i(){return b("Flash").isAvailable()}var j=function(){this.interval=null,this.arbiterInstance=null,this.audio=b("DOM").create("audio"),b("Event").listen(this.audio,"playing",function(){this.informAttachment("playing",this.audio.currentTime),this.interval=setInterval(function(){this.informAttachment("playing",this.audio.currentTime)}.bind(this),g)}.bind(this)),b("Event").listen(this.audio,"ended",function(){clearInterval(this.interval),this.informAttachment("finished")}.bind(this))};Object.assign(j.prototype,{setAudio:function(a,b){this.audio.setAttribute("src",a),this.arbiterInstance=b},informAttachment:function(a,b){this.arbiterInstance&&this.arbiterInstance.inform(a,b)},play:function(){this.audio.play(),this.informAttachment("played")},resume:function(){this.audio.play(),this.informAttachment("played")},pause:function(){this.audio.pause(),clearInterval(this.interval),this.informAttachment("paused")},getType:function(){return"html5"}});var k=function(){this.src=null;this.arbiterInstance=null;var a=b("DOM").create("div");document.body.appendChild(a);this.swf=b("Flash").embed("/swf/cigars/SoundStreamPlayer.swf",a,null,{});this.interval=null;b("Arbiter").subscribe("soundstream/finished",function(){clearInterval(this.interval),this.informAttachment("finished")}.bind(this))};Object.assign(k.prototype,{setAudio:function(a,b){this.src=a,this.arbiterInstance=b},informAttachment:function(a,b){this.arbiterInstance&&this.arbiterInstance.inform(a,b)},play:function(){this.swf.playSound(this.src),this.interval=setInterval(function(){var a=this.swf.getCurrentTime();this.informAttachment("playing",a)}.bind(this),g),this.informAttachment("played")},resume:function(){this.swf.resume(),this.informAttachment("played")},pause:function(){clearInterval(this.interval),this.swf.pause(),this.informAttachment("paused")},getType:function(){return"flash"}});function l(){if(h())return new j();else if(i())return new k();return!1}var m=null,n=null,o=0;function a(a,b){this.src=a;this.arbiterInstance=b;this.audio_id=++o;m!==null||(m=l());if(!m)return!1}Object.assign(a.prototype,{getType:function(){if(!m)return!1;else return m.getType()},play:function(a){a&&n==this.audio_id?m.resume():(this.pause(),n=this.audio_id,m.setAudio(this.src,this.arbiterInstance),m.play())},pause:function(){m.pause()}});e.exports=a}),null);
__d("MercuryShareAttachment.react",["cx","BootloadedComponent.react","DOM","Event","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareStyleMap","MessengerErrorBoundary.react","React","ReactDOM","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=function(a){this.$1(a),b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(a){var c=b("Event").listen(a,"load",function(){this.$1(a.height),c.remove()}.bind(this))}.bind(this))}.bind(this),c}a.prototype.componentDidMount=function(){this.$1()};a.prototype.$2=function(a,c){this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER&&!this.props.isSubattachment&&(c=b("joinClasses")("_52mr _2poz _ui9","_4skb",c));return b("React").createElement("div",{className:c},a,this.props.afterDecorators)};a.prototype.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(!a)return null;var c=a.attachment;a=a.factory;return this.$2(b("React").createElement(b("MessengerErrorBoundary.react"),babelHelpers["extends"]({},this.props,{component:"attachment"}),b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({},this.props,{attachment:c,bootloadLoader:a.componentLoader,bootloadPlaceholder:b("React").createElement("div",null),key:(c=this)!=null?(c=c.props)!=null?(c=c.attachment)!=null?c.share_id:c:c:c,module:a.componentName,onComponentLoad:this.$3}))),a.cx&&a.cx.get(this.props.location))};a.prototype.$1=function(a){this.props.onComponentLoaded(a)};a.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isFromViewer:c.bool,isPageMessage:c.bool,isSponsored:c.bool,isSubattachment:c.bool,isVisible:c.bool,location:c.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),messageID:c.string,onComponentLoaded:c.func.isRequired,onSelect:c.func,pageID:c.string,threadID:c.string.isRequired,afterDecorators:c.array,timestamp:c.number,author:c.string};a.defaultProps={onComponentLoaded:b("emptyFunction")};e.exports=a}),null);
__d("MercuryAttachmentAttribution.react",["cx","fbt","Image.react","ImmutableObject","Link.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.$1();return!a?null:b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_29ew")},b("React").createElement(b("Image.react"),{src:a.icon_url,className:"_29ex"}),b("React").createElement("span",{className:"_29ey"},a.name),this.$2())};a.prototype.$1=function(){return this.props.attachment&&this.props.attachment.app_attribution};a.prototype.$2=function(){var a=this.$1();if(!a||!a.metadata)return null;var c="_439n";try{a=JSON.parse(a.metadata)}catch(a){return null}return a.spotify_link?b("React").createElement(b("Link.react"),{className:c,href:a.spotify_link,target:"_blank"},h._("Open")):null};function a(){i.apply(this,arguments)}a.propTypes={attachment:c.instanceOf(b("ImmutableObject"))};e.exports=a}),null);
__d("MessengerLivingRoomCTAContainer.react",["fbt","CurrentEnvironment","ErrorBoundary.react","JSResource","MercuryIDs","Placeholder.react","React","ShortProfiles","gkx","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("lazyLoadComponent")(b("JSResource")("MessengerLivingRoomCTA.react").__setRef("MessengerLivingRoomCTAContainer.react"));c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={threadType:null,otherUserName:null},b}a.prototype.componentDidMount=function(){__p&&__p();var a=this.props.threadID;if(a==null)return;a=b("MercuryIDs").tokenize(a);if(a.type==="thread"){this.setState({threadType:"group"});return}if(a.type!=="user")return;b("ShortProfiles").get(a.value,function(a){this.setState({otherUserName:a.firstName,threadType:"user"})}.bind(this))};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.threadID,d=a.isFromViewer;a=a.attachment;var e=this.state,f=e.threadType;e=e.otherUserName;if(!b("gkx")("678647")||a==null||d!=!0||c==null||f==null||f==="user"&&e==null||b("CurrentEnvironment").messengerdotcom)return null;a=a==null?void 0:(d=a.target)==null?void 0:d.video_messenger_cta_payload;d=a==null?void 0:a.cta_type;a=a==null?void 0:(a=a.video)==null?void 0:a.id;if(d!=="CREATE_LIVING_ROOM"||a==null)return null;var h;switch(f){case"user":h=g._("Watch with {name of the other user in the thread}",[g._param("name of the other user in the thread",e)]);break;case"group":h=g._("Watch with Group");break}return h==null?null:b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",null)},b("React").createElement(i,{threadFBID:b("MercuryIDs").getThreadFBIDFromThreadID(c),videoID:a,buttonText:h})))};e.exports=a}),null);
__d("MessengerRemovedMessageTombstone.react",["cssVar","cx","fbt","MercuryTimestamp","MessengerDecorator","MessengerInnerDecorators.react","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","MessengerSettingsStore","React","RemovedMessageTombstoneContent","TooltipData","getViewportDimensions","gkx","immutable","joinClasses","messengerRTLClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("MessengerMessageSeenHeadsReact.bs").jsComponent;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={shown:{}},this.$2=function(a,b){this.setState(function(c){return{shown:babelHelpers["extends"]({},c.shown,(c={},c[a]=b,c))}})}.bind(this),b}a.prototype.render=function(){var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=[],f=this.props.message;f&&b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(f)&&e.push(a.getAdditionalClassNames())});var g=this.$1();return b("React").createElement(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7")+"",b("messengerRTLClasses")(a.body)].concat(e)),message:a,onShowMenu:this.$2},g,b("React").createElement(k,{className:"_4jzq",isFromViewer:d,message:a,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts}))};a.prototype.$1=function(){var a=this.props.message,c=b("RemovedMessageTombstoneContent").getTombstoneContent(a,this.props.participants),d=this.$3();d=b("TooltipData").propsFor(d,l(this.props.isFromViewer));return b("React").createElement("div",babelHelpers["extends"]({className:"_3058 _ui9"+(a.isSelected?" _3xsz":"")+" _7301 _hh7"+(b("gkx")("686397")?" _6ybn":"")+" _s1- _52mr _3oh-"},d||{}),b("React").createElement(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:a,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[a.message_id],messageProps:{},isSavedView:!1}),b("React").createElement("div",{className:"_aok",tabIndex:0,"aria-label":c},b("React").createElement("span",null,c)))};a.prototype.$3=function(){var a=this.props.message.timestamp,c=this.props.message.removed_timestamp;a=i._("Sent: {sent time}",[i._param("sent time",b("MercuryTimestamp").getPreciseTimestamp(a))]);c=i._("Removed: {removed time}",[i._param("removed time",b("MercuryTimestamp").getPreciseTimestamp(c))]);return a.toString()+"\n"+c.toString()};a.propTypes={isActive:c.bool,isFromViewer:c.bool,message:c.object.isRequired,nextTimestamp:c.number.isRequired,onSelect:c.func.isRequired,participants:c.instanceOf(b("immutable").Map).isRequired,readReceipts:c.instanceOf(b("immutable").OrderedMap).isRequired};function l(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)||b("MessengerSettingsStore").getSettings().info_sidebar_collapsed&&a?"above":a?"right":"left"}e.exports=a}),null);
__d("MessagingForwardAttachmentDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("MessagingForwardAttachmentDialogImpl.react").__setRef("MessagingForwardAttachmentDialog.react"),placeholder:b("React").createElement("div",null)})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("XForwardingNUXSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/forwarding_nux_seen/",{})}),null);
__d("MessagingForwardingButtonNUX.react",["AsyncRequest","ChatConfig","React","XForwardingNUXSeenController","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={showNUX:!b("ChatConfig").get("seen_forwarding_nux")},this.$1=function(){if(!this.state.showNUX)return;b("ChatConfig").set("seen_forwarding_nux",!0);new(b("AsyncRequest"))(b("XForwardingNUXSeenController").getURIBuilder().getURI()).send();this.setState({showNUX:!1})}.bind(this),this.close=function(){this.$1()}.bind(this),c}a.prototype.render=function(){"use strict";return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"left",width:"auto",shown:this.state.showNUX},this.props.children)};a.propTypes={contextRef:c.func.isRequired};e.exports=a}),null);
__d("MessengerThreadSharedMediaAfterWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1668947383157276"};c.getQueryID=function(){"use strict";return"515216185516880"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerThreadSharedMediaBeforeWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1712143858865110"};c.getQueryID=function(){"use strict";return"1694317194012102"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerThreadSharedMediaFindWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("WebGraphQLQueryBase"));a&&a.prototype;c.__getDocID=function(){"use strict";return"1933185426727404"};c.getQueryID=function(){"use strict";return"237087923629184"};function c(){"use strict";a.apply(this,arguments)}return c}()}),null);
__d("MessengerSharedMediaStore",["FluxReduceStore","MessengerFluxReduceDispatcher","MessengerSharedMediaActions","MessengerSharedMediaReducer","MessengerSharedMediaState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=Object.keys(b("MessengerSharedMediaReducer"));g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return new(b("MessengerSharedMediaState"))()};a.prototype.reduce=function(a,c){if(c.namespace!==b("MessengerSharedMediaActions").Namespace)return a;h.forEach(function(d){a=b("MessengerSharedMediaReducer")[d](a,c)});return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("MessengerFluxReduceDispatcher"))}),null);
__d("XMessagingVideoAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/video/",{video_id:{type:"String",required:!0},video_container_id:{type:"String",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0},start_muted:{type:"Bool",defaultValue:!1},no_fullscreen:{type:"Bool",defaultValue:!1},load_player_controller:{type:"Bool",defaultValue:!1},hide_controls_on_finish:{type:"Bool",defaultValue:!1},hide_url_menu_option:{type:"Bool",defaultValue:!1},is_share:{type:"Bool",defaultValue:!1},render_play_button:{type:"Bool",defaultValue:!1},start_timestamp:{type:"Int",defaultValue:0}})}),null);
__d("SpotlightViewerBottomBarLink",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.className||"_4_8j _4_8k";return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.props,{className:a}),this.props.children)};function a(){"use strict";h.apply(this,arguments)}e.exports=a}),null);
__d("XMessagingPhotoDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/photo/",{photo_id:{type:"String",required:!0}})}),null);
__d("XMessagingShareAttachmentDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/share/dialog/",{__asyncDialog:{type:"Int"}})}),null);
__d("SpotlightMercurySharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","AsyncDialog","AsyncRequest","BootloadedComponent.react","ChatPhotoViewFooterHScroll.react","ChatPhotoViewHeader.react","Event","FunnelLogger","JSResource","KeyEventController","MessagingForwardAttachmentDialog.react","MessengerPhotoInfoDialogContainer.react","MessengerThreadSharedMediaHelper","MessengerVideoPlayer.react","Parent","PhotoUtils","React","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Vector","XMessagingPhotoDownloadController","XMessagingShareAttachmentDialogController"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k;a=b("React").PropTypes;var l=88,m=30,n="WWW_MESSENGER_SHARE_TO_FB_FUNNEL",o="_4-og";c=babelHelpers.inherits(p,b("React").Component);k=c&&c.prototype;function p(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.$1=void 0,this.$2=[],this.state={hasPrevPage:!1,hasNextPage:!1,firstPhotoLoaded:!1,isLoading:!1,mediaData:[],numberInOneBatch:m,photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},this.$11=function(){return!this.state.photoData?null:b("React").createElement(b("ChatPhotoViewFooterHScroll.react"),{onScroll:this.$18,photoID:this.state.photoData.node.id,sharedPhotos:this.state.mediaData,updateNumberInOneBatch:this.$19,width:this.state.stageDimensions.x})}.bind(this),this.$19=function(a){this.setState({numberInOneBatch:a})}.bind(this),this.$18=function(a){if(!this.state.mediaData||this.state.isLoading)return;var b=this.state.mediaData.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=this.state.mediaData[b];this.setState({photoData:c});this.$22(b)}.bind(this),this.$5=function(a,c){__p&&__p();if(this.state.photoData==null||this.state.isLoading)return;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===o&&this.$10();c=this.state.mediaData.findIndex(function(a){this.state.photoData!=null||j(0,1033);return a.node.legacy_attachment_id===this.state.photoData.node.legacy_attachment_id}.bind(this));if(c<0||c===this.state.mediaData.length-1&&!this.state.hasNextPage&&a)return;if(c===0&&!a){this.setState({isLoading:!0},function(){return this.$7(this.state.photoData,1,function(b){if(b===0)return;this.$5(a)}.bind(this))}.bind(this));return}var d=a?this.state.mediaData[c+1]:this.state.mediaData[c-1];this.setState({photoData:d});this.$22(c)}.bind(this),this.$10=function(){if(this.props.photoID===null)return;this.setState({photoData:null});this.props.onClosePhotoView()}.bind(this),this.$16=function(){this.setState({showForward:!0})}.bind(this),this.$20=function(){this.setState({showForward:!1})}.bind(this),this.$15=function(){this.setState({showInfo:!0})}.bind(this),this.$21=function(){this.setState({showInfo:!1})}.bind(this),this.$17=function(){this.setState({showForward:!1,showInfo:!1});b("FunnelLogger").appendAction(n,"click");var a=this.state.photoData;if(!this.$14()||!(a&&a.node))return;a=a.node.legacy_attachment_id;var c=b("XMessagingShareAttachmentDialogController").getURIBuilder().getURI();c=new(b("AsyncRequest"))(c).setData({attachment_id:a}).setMethod("POST");b("AsyncDialog").send(c)}.bind(this),this.$23=function(a,b,c){__p&&__p();var d=Object.keys(a)[0];a=a[d].message_shared_media;d=a.page_info;var e=a.edges.length;if(e!==0){var f=this.state.mediaData;switch(b){case 0:this.setState({photoData:a.edges[0],mediaData:[a.edges[0]],firstPhotoLoaded:!0});break;case 1:f=f.concat(a.edges);this.setState({hasNextPage:d.has_next_page,mediaData:f});break;case-1:f=a.edges;f=f.concat(this.state.mediaData);this.setState({mediaData:f,hasPrevPage:d.has_previous_page});break}}this.setState({isLoading:!1});c(e)}.bind(this),this.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-l);return a},c}p.prototype.getDefaultProps=function(){return{enableShareToFB:!1}};p.prototype.componentDidMount=function(){this.setState({isLoading:!0,stageDimensions:this.$3()},function(){return this.$4(this.props.photoID)}.bind(this)),this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){this.setState({stageDimensions:this.$3()})}.bind(this)),b("KeyEventController").registerKey("LEFT",function(){this.$5(!1);return!1}.bind(this)),b("KeyEventController").registerKey("RIGHT",function(){this.$5(!0);return!1}.bind(this))),this.props.enableShareToFB&&b("FunnelLogger").startFunnel(n)};p.prototype.UNSAFE_componentWillUpdate=function(a,b){b.firstPhotoLoaded!==this.state.firstPhotoLoaded&&this.setState({isLoading:!0},function(){this.$6(b.photoData,b.numberInOneBatch,function(){}),this.$7(b.photoData,b.numberInOneBatch,function(){})}.bind(this)),b.numberInOneBatch!=this.state.numberInOneBatch&&!b.isLoading&&this.setState({isLoading:!0},function(){return this.$6(b.mediaData[b.mediaData.length-1],b.numberInOneBatch,function(){})}.bind(this))};p.prototype.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};p.prototype.render=function(){var a=this.$8(),c=this.state.stageDimensions,d=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var e=this.state.mediaData.findIndex(function(a){this.state.photoData!=null||j(0,1033);return a.node.id===this.state.photoData.node.id}.bind(this));e=b("React").createElement("div",null,this.$9(),this.props.disablepaging?null:b("React").createElement(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:e<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&e>=this.state.mediaData.length-1}));return b("React").createElement("span",null,b("React").createElement(b("SpotlightViewer"),{className:"_53vs",onHide:this.$10,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName},b("React").createElement(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:a,onClick:this.$5,ref:"viewport",showLoadingIndicator:d,stageDimensions:c,useWidth:!0},e),this.$11()),this.$12(),this.$13())};p.prototype.$9=function(){if(!this.state.photoData)return null;var a=this.state.photoData;a=a.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return b("React").createElement(b("ChatPhotoViewHeader.react"),{disableForward:this.props.disableForward,enableShareToFB:this.$14(),onClose:this.$10,openInfo:this.$15,ref:"photoviewheader",showForwardDialog:this.$16,showShareDialog:this.$17,url:a})};p.prototype.$12=function(){if(!this.state.photoData||!this.state.showForward)return null;var a=i._("Forward in separate messages");return b("React").createElement(b("MessagingForwardAttachmentDialog.react"),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$20,shown:this.state.showForward,title:a})};p.prototype.$13=function(){return this.state.showInfo?b("React").createElement(b("MessengerPhotoInfoDialogContainer.react"),{closeInfo:this.$21,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id}):b("React").createElement("xhp",null)};p.prototype.$14=function(){var a=this.state.photoData;return!a?!1:!!this.props.enableShareToFB&&a.node.__typename==="MessageImage"&&a.node.image1.uri.indexOf(".gif")<0};p.prototype.$22=function(a){var b=this.state.numberInOneBatch,c=this.state.mediaData;a<=b/2?this.setState({isLoading:!0},function(){return this.$7(c[0],b,function(){})}.bind(this)):a>=c.length-b/2&&this.state.hasNextPage&&this.setState({isLoading:!0},function(){return this.$6(c[c.length-1],b,function(){})}.bind(this))};p.prototype.$4=function(a){a=b("MessengerThreadSharedMediaHelper").search(this.props.threadID,String(a),function(a){return this.$23(a,0,function(){})}.bind(this));this.$2.push(a)};p.prototype.$6=function(a,c,d){a=b("MessengerThreadSharedMediaHelper").loadMorePrevious(this.props.threadID,a.cursor,c||1,function(a){return this.$23(a,1,d)}.bind(this));this.$2.push(a)};p.prototype.$7=function(a,c,d){a=a?a.cursor:null;a=b("MessengerThreadSharedMediaHelper").loadMoreLatest(this.props.threadID,a,c||1,function(a){return this.$23(a,-1,d)}.bind(this));this.$2.push(a)};p.prototype.$8=function(){__p&&__p();if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$24();var c=this.state.stageDimensions,d=this.$25(a,c);if(!d)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$26(a.legacy_attachment_id,d,a.photo_encodings,c);a=p.getImageDimensionsForStage(new(b("Vector"))(d.width,d.height),c);return this.$27(d,a)}else return null};p.prototype.$24=function(){return this.state.photoData?b("React").createElement(b("MessengerVideoPlayer.react"),{isOnStage:!0,isVisible:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};p.prototype.$27=function(a,c){return b("React").createElement(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};p.prototype.$26=function(a,c,d,e){return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMercurySharedMediaViewer.react"),bootloadPlaceholder:b("React").createElement("div",null),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};p.prototype.$25=function(a,c){var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return a.width==null?b.width==null?0:1:b.width==null?-1:b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};p.propTypes={disableForward:a.bool,enableShareToFB:a.bool,onClosePhotoView:a.func,photoID:a.string,rootClassName:a.string,threadID:a.string};p.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};e.exports=p}),null);
__d("MessageShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"})}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/forward/",{})}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/share/",{})}),null);
__d("SpotlightMessengerSharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","BootloadedComponent.react","Event","JSResource","KeyEventController","MessengerForwardAttachmentDialogReact.bs","MessengerPhotoInfoDialogContainer.react","MessengerPhotoViewBottomBar.react","MessengerPhotoViewHeader.react","MessengerPhotoViewHScroll.react","MessengerSharedMediaActions","MessengerVideoPlayer.react","Parent","PhotoUtils","React","ScriptPath","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Vector","XMessagingPhotoDownloadController"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("MessengerForwardAttachmentDialogReact.bs").jsComponent;a=b("React").PropTypes;var m=88,n=80,o=30,p="_4-og";c=babelHelpers.inherits(q,b("React").Component);k=c&&c.prototype;function q(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.$1=void 0,this.$2=[],this.state={photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},this.$14=function(a){if(!this.props.sharedMedia)return;var b=this.props.sharedMedia.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=this.props.sharedMedia[b];this.setState({photoData:c});this.$17(b)}.bind(this),this.$4=function(a,c){__p&&__p();if(this.state.photoData==null)return;var d=this.state.photoData;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===p&&this.$7();c=this.props.sharedMedia.findIndex(function(a){return a.node.legacy_attachment_id===d.node.legacy_attachment_id});if(c<0||c===this.props.sharedMedia.length-1&&!this.props.hasNextPage&&a)return;if(c===0&&!a){b("MessengerSharedMediaActions").loadMoreLatest(this.props.threadID,this.props.sharedMedia[0].cursor,o);return}a=a?this.props.sharedMedia[c+1]:this.props.sharedMedia[c-1];this.setState({photoData:a});this.$17(c)}.bind(this),this.$7=function(){if(this.props.photoID===null)return;b("ScriptPath").closeOverlayView("spotlight_media_view");this.setState({photoData:null});this.props.onClosePhotoView()}.bind(this),this.$12=function(){this.setState({showForward:!0})}.bind(this),this.$15=function(){this.setState({showForward:!1})}.bind(this),this.$11=function(){this.setState({showInfo:!0})}.bind(this),this.$16=function(){this.setState({showInfo:!1})}.bind(this),c}q.prototype.componentDidMount=function(){__p&&__p();var a=this.props.sharedMedia.find(function(a){return a.node.legacy_attachment_id===this.props.photoID}.bind(this));this.setState({photoData:a,stageDimensions:this.$3()});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){this.setState({stageDimensions:this.$3()})}.bind(this)),b("KeyEventController").registerKey("LEFT",function(){this.$4(!1);return!1}.bind(this)),b("KeyEventController").registerKey("RIGHT",function(){this.$4(!0);return!1}.bind(this)));b("ScriptPath").openOverlayView("spotlight_media_view",{photoID:this.props.photoID,threadID:this.props.threadID})};q.prototype.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};q.prototype.render=function(){var a=this.$5(),c=this.state.stageDimensions,d=this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var e=this.props.sharedMedia.findIndex(function(a){this.state.photoData!=null||j(0,1033);return a.node.id===this.state.photoData.node.id}.bind(this));e=b("React").createElement("div",null,this.$6(),this.props.disablepaging?null:b("React").createElement(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:e<=0&&!this.props.hasPrevPage,disableNextArrow:!this.props.hasNextPage&&e>=this.props.sharedMedia.length-1}));return b("React").createElement("span",null,b("React").createElement(b("SpotlightViewer"),{className:"_53vs",onHide:this.$7,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName},b("React").createElement(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:a,onClick:this.$4,ref:"viewport",showLoadingIndicator:d,stageDimensions:c,useWidth:!0},e),this.$8()),this.$9(),this.$10())};q.prototype.$6=function(){if(!this.state.photoData)return null;var a=this.state.photoData.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return b("React").createElement(b("MessengerPhotoViewHeader.react"),{disableForward:this.props.disableForward,onClose:this.$7,openInfo:this.$11,photoID:this.props.photoID,ref:"photoviewheader",showForwardDialog:this.$12,url:a})};q.prototype.$13=function(a){return a?Math.ceil(a/n):o};q.prototype.$8=function(){if(!this.state.photoData)return null;var a=this.state.photoData,c=b("React").createElement("button",{className:"_2n5b",onClick:function(){return this.props.openAlbum(a.node.legacy_attachment_id)}.bind(this),type:"button"},b("React").createElement("div",{"aria-label":i._("Full-screen photo gallery"),className:"_3por"}));return b("React").createElement(b("MessengerPhotoViewBottomBar.react"),null,b("React").createElement(b("MessengerPhotoViewHScroll.react"),{onScroll:this.$14,photoID:a.node.legacy_attachment_id,sharedPhotos:this.props.sharedMedia,width:this.state.stageDimensions.x}),c)};q.prototype.$9=function(){if(!this.state.photoData||this.props.disableForward)return null;var a=i._("Forward in separate messages");return b("React").createElement(l,{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$15,shown:this.state.showForward,title:a})};q.prototype.$10=function(){return this.state.showInfo?b("React").createElement(b("MessengerPhotoInfoDialogContainer.react"),{closeInfo:this.$16,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id}):b("React").createElement("xhp",null)};q.prototype.$17=function(a){var c=this.$13(this.state.stageDimensions.x),d=this.props.sharedMedia;a<=c/2?(b("MessengerSharedMediaActions").loadMoreLatest(this.props.threadID,d[0].cursor,c),d.length<c&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)):a>=d.length-c/2&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)};q.prototype.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-m);return a};q.prototype.$5=function(){__p&&__p();if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$18();var c=this.state.stageDimensions,d=this.$19(a,c);if(!d)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$20(a.legacy_attachment_id,d,a.photo_encodings,c);a=q.getImageDimensionsForStage(new(b("Vector"))(d.width,d.height),c);return this.$21(d,a)}else return null};q.prototype.$18=function(){return this.state.photoData?b("React").createElement(b("MessengerVideoPlayer.react"),{isVisible:!0,isOnStage:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};q.prototype.$21=function(a,c){return b("React").createElement(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};q.prototype.$20=function(a,c,d,e){return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMessengerSharedMediaViewer.react"),bootloadPlaceholder:b("React").createElement("div",null),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};q.prototype.$19=function(a,c){c=b("PhotoUtils").getImagesFromData(a);return c[c.length-1]};q.propTypes={disableForward:a.bool,hasPrevPage:a.bool,hasNextPage:a.bool,onClosePhotoView:a.func,openAlbum:a.func,photoID:a.string,rootClassName:a.string,threadID:a.string,sharedMedia:a.arrayOf(a.object)};q.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};e.exports=q}),null);
__d("SpotlightMessengerSharedMediaViewerContainer.react",["FluxContainer","MessengerSharedMediaActions","MessengerSharedMediaStore","React","SpotlightMessengerSharedMediaViewer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(){return[b("MessengerSharedMediaStore")]};a.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia.get(c.threadID);a=a.isLoading.get(c.threadID);return{sharedMedia:d,isLoading:a}};a.prototype.componentDidMount=function(){b("MessengerSharedMediaActions").loadCurrent(this.props.threadID,this.props.photoID)};a.prototype.render=function(){if(!this.state.sharedMedia)return null;var a=this.state.sharedMedia&&this.state.sharedMedia.edges.find(function(a){return a.node.legacy_attachment_id===this.props.photoID}.bind(this));return!a?null:b("React").createElement(b("SpotlightMessengerSharedMediaViewer.react"),{disableForward:this.props.disableForward,hasPrevPage:this.state.sharedMedia&&this.state.sharedMedia.has_previous_page,hasNextPage:this.state.sharedMedia&&this.state.sharedMedia.has_next_page,onClosePhotoView:this.props.onClosePhotoView,openAlbum:this.props.openAlbum,photoID:this.props.photoID,rootClassName:this.props.rootClassName,sharedMedia:this.state.sharedMedia&&this.state.sharedMedia.edges,threadID:this.props.threadID})};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("SphericalPhotoViewerInMessengerThreadBootloaded.react",["cx","BootloadedComponent.react","CssBackgroundImage.react","JSResource","PhotoProjection","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("PhotoProjection").PERSPECTIVE;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){__p&&__p();if(this.props.photoEncodings&&this.props.thumbnail){var a=this.props.photoEncodings.find(function(a){return a.projection_type===i}),c=null,d=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;c=a[0]?a[0].uri:null;d=a[1]?a[1].uri:null}if(this.props.useRenderer&&this.props.width&&this.props.height&&this.props.fbid){a=d||c||this.props.thumbnail;return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoViewerInMessengerThreadWrapper.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),height:this.props.height,width:this.props.width,fbid:this.props.fbid,thumbnail:a,photoEncodings:this.props.photoEncodings,isVisible:this.props.isVisible,onClickHandler:this.props.onClickHandler})}else{a=c||d||this.props.thumbnail;return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoMessengerThumbnail.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),photoEncodings:this.props.photoEncodings,thumbnail:a})}}return null};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("EmojiSticker.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad()};a.prototype.render=function(){var a=this.props.emojiImage?this.props.emojiImage:b("React").createElement(b("Image.react"),{src:this.props.sourceURI});return b("React").createElement("div",{"aria-label":this.props.emoji,className:b("joinClasses")(this.props.className,"_383m"),tabIndex:"0"},a)};function a(){h.apply(this,arguments)}a.propTypes={emoji:c.string,emojiImage:c.any,onAttachmentLoad:c.func,sourceURI:c.string.isRequired};e.exports=a}),null);
__d("XStickerInTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/in_tray/",{pack_id:{type:"Int",required:!0}})}),null);
__d("StickersPackInTray",["Promise","AsyncRequest","XStickerInTrayController","react-relay/classic/query/createRelayQuery","react-relay/classic/query/RelayQL","react-relay/classic/store/RelayStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={onIsPackInTray:function(a,c,d){__p&&__p();c=b("react-relay/classic/query/createRelayQuery")(function(){return{children:[{children:[{calls:[{kind:"Call",metadata:{type:"StickerInterfaces"},name:"interface",value:{kind:"CallVariable",callVariableName:"stickerInterface"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1e4}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"StickerPack"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PacksInTrayEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"tray_packs",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"PacksInTrayConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:!0},type:"StickerStore"}],fieldName:"viewer",kind:"Query",metadata:{},name:"StickersPackInTray",type:"Viewer"}}(),{stickerInterface:c});var e=b("react-relay/classic/store/RelayStore").readQuery(c);e=e&&e.length>0?e[0]:null;if(e&&e.sticker_store&&e.sticker_store.tray_packs&&e.sticker_store.tray_packs.edges)return new(b("Promise"))(function(b,c){return b({in_sticker_tray:e.sticker_store.tray_packs.edges.filter(function(b){return b.node.id===a}).length>0})}).then(d);var f=b("XStickerInTrayController").getURIBuilder().setInt("pack_id",a).getURI();return new(b("Promise"))(function(a,c){return new(b("AsyncRequest"))(f).setHandler(function(b){return a(b.getPayload())}).setAllowCrossPageTransition(!0).send()}).then(d)}};e.exports=a}),null);